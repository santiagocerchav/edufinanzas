<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EduFinanza - Educación Económica para Todos</title>
    <link rel="icon" type="images/x-icon" href="/images/EF.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;700&family=Open+Sans:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* Estilos base y variables CSS */
        :root {
            --primary: #4361ee;
            --secondary: #3a0ca3;
            --accent: #f72585;
            --light: #f8f9fa;
            --dark: #212529;
            --gradient: linear-gradient(135deg, #4361ee 0%, #3a0ca3 100%);
            --gradient-accent: linear-gradient(135deg, #f72585 0%, #b5179e 100%);
            --success: #2ecc71;
            --danger: #e74c3c;
            --warning: #f39c12;
            --info: #3498db;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Open Sans', sans-serif;
            color: var(--dark);
            background-color: #f5f7ff;
            line-height: 1.6;
            scroll-behavior: smooth;
        }
        
        h1, h2, h3, h4 {
            font-family: 'Montserrat', sans-serif;
            font-weight: 600;
        }
        
        /* Estructura principal */
        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* Estilos del encabezado */
        header {
            background: var(--gradient);
            color: white;
            padding: 10px 0;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            backdrop-filter: blur(5px);
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0px;
        }
        
        .logo {
            font-size: 1.8rem;
            font-weight: 700;
            animation: fadeInDown 1s;
        }
        
        nav ul {
            display: flex;
            list-style: none;
            font-size: 15px;
        }
        
        nav ul li {
            margin-left: 30px;
        }
        
        nav ul li a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            position: relative;
        }
        
        nav ul li a:hover {
            color: #f8f9fa;
        }
        
        nav ul li a::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: -5px;
            left: 0;
            background-color: white;
            transition: width 0.3s ease;
        }
        
        nav ul li a:hover::after {
            width: 100%;
        }
        
        /* Sección hero */
        .hero {
            height: 100vh;
            display: flex;
            align-items: center;
            background: var(--gradient);
            color: white;
            margin-top: 60px;
            position: relative;
            overflow: hidden;
        }
        
        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiPjxkZWZzPjxwYXR0ZXJuIGlkPSJwYXR0ZXJuIiB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHBhdHRlcm5Vbml0cz0idXNlclNwYWNlT25Vc2UiIHBhdHRlcm5UcmFuc2Zvcm09InJvdGF0ZSg0NSkiPjxyZWN0IHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwLjA1KSIvPjwvcGF0dGVybj48L2RlZnM+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0idXJsKCNwYXR0ZXJuKSIvPjwvc3ZnPg==');
        }
        
        .hero-content {
            position: relative;
            z-index: 1;
            max-width: 600px;
            animation: fadeInUp 1s;
        }
        
        .hero h1 {
            font-size: 3.5rem;
            margin-bottom: 20px;
            line-height: 1.2;
        }
        
        .hero p {
            font-size: 1.2rem;
            margin-bottom: 30px;
        }
        
        /* Botones */
        .btn {
            display: inline-block;
            padding: 12px 30px;
            background: var(--gradient-accent);
            color: white;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(247, 37, 133, 0.3);
            border: none;
            cursor: pointer;
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(247, 37, 133, 0.4);
        }
        
        .btn-outline {
            background: transparent;
            border: 2px solid white;
            margin-left: 15px;
        }
        
        .btn-outline:hover {
            background: white;
            color: var(--primary);
        }
        
        .btn-sm {
            padding: 8px 16px;
            font-size: 0.9rem;
        }
        
        /* Secciones */
        section {
            padding: 100px 0;
        }
        
        .section-title {
            text-align: center;
            margin-bottom: 60px;
            position: relative;
        }
        
        .section-title h2 {
            font-size: 2.5rem;
            color: var(--secondary);
            display: inline-block;
            position: relative;
            padding-bottom: 15px;
        }
        
        .section-title h2::after {
            content: '';
            position: absolute;
            width: 70px;
            height: 4px;
            background: var(--gradient-accent);
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            border-radius: 2px;
        }
        
        .section-title p {
            max-width: 700px;
            margin: 20px auto 0;
            color: #666;
        }
        
        /* Tarjetas */
        .card {
            background: white;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
            padding: 30px;
            margin-bottom: 30px;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            overflow: hidden;
            position: relative;
        }
        
        .card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.15);
        }
        
        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 5px;
            height: 100%;
            background: var(--gradient);
        }
        
        .card h3 {
            font-size: 1.5rem;
            margin-bottom: 15px;
            color: var(--secondary);
        }
        
        /* Grid layout */
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }
        
        .feature-icon {
            font-size: 2.5rem;
            margin-bottom: 20px;
            background: var(--gradient);
            -webkit-background-clip: text;
            background-clip: text;
        }
        
        /* Tarjetas de actividades */
        .activity-card {
            background: white;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
            padding: 30px;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            overflow: hidden;
        }
        
        .activity-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.15);
        }
        
        .activity-card::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: var(--gradient);
        }
        
        .activity-card h3 {
            font-size: 1.3rem;
            margin-bottom: 15px;
            color: var(--secondary);
        }
        
        .activity-card .badge {
            position: absolute;
            top: 20px;
            right: 20px;
            background: var(--gradient-accent);
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }
        
        /* Pestañas */
        .tab-container {
            margin-top: 40px;
        }
        
        .tabs {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }
        
        .tab-btn {
            padding: 12px 25px;
            background: none;
            border: none;
            font-family: 'Montserrat', sans-serif;
            font-weight: 600;
            color: #666;
            cursor: pointer;
            position: relative;
            transition: all 0.3s ease;
        }
        
        .tab-btn.active {
            color: var(--primary);
        }
        
        .tab-btn.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 50%;
            height: 3px;
            background: var(--gradient-accent);
            border-radius: 3px;
        }
        
        .tab-content {
            display: none;
            animation: fadeIn 0.5s;
        }
        
        .tab-content.active {
            display: block;
        }
        
        /* Contenedor de actividades */
        .activity-container {
            margin-top: 20px;
        }
        
        /* Formularios */
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
        }
        
        .form-group input, 
        .form-group select, 
        .form-group textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-family: 'Open Sans', sans-serif;
            transition: all 0.3s;
        }
        
        .form-group input:focus, 
        .form-group select:focus, 
        .form-group textarea:focus {
            border-color: var(--primary);
            outline: none;
            box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.2);
        }
        
        /* Resultados */
        .budget-result, 
        .calculator-result, 
        .goal-result {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 5px;
            margin-top: 20px;
            text-align: center;
            font-weight: 600;
            font-size: 1.2rem;
        }
        
        .positive {
            color: var(--success);
        }
        
        .negative {
            color: var(--danger);
        }
        
        /* Gráficos */
        .chart-container {
            position: relative;
            height: 300px;
            margin-top: 30px;
        }
        
        /* Juego de decisiones */
        .decision-game {
            border: 1px solid #eee;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        
        .decision-options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 20px;
        }
        
        .decision-btn {
            padding: 10px;
            background: var(--gradient);
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .decision-btn:hover {
            opacity: 0.9;
            transform: translateY(-2px);
        }
        
        .game-result {
            margin-top: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 5px;
            display: none;
        }
        
        /* Quiz */
        .quiz-container {
            margin-top: 20px;
        }
        
        .quiz-question {
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }
        
        .quiz-option {
            display: block;
            margin: 10px 0;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .quiz-option:hover {
            background: #e9ecef;
        }
        
        .quiz-option.correct {
            background: #d4edda;
            color: #155724;
        }
        
        .quiz-option.incorrect {
            background: #f8d7da;
            color: #721c24;
        }
        
        .quiz-feedback {
            margin-top: 10px;
            padding: 10px;
            border-radius: 5px;
            display: none;
        }
        
        /* Reto de ahorro */
        .challenge-container {
            margin-top: 20px;
        }
        
        .challenge-day {
            display: none;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 5px;
            margin-bottom: 15px;
        }
        
        .challenge-day.active {
            display: block;
        }
        
        .progress-container {
            margin-top: 20px;
        }
        
        .progress-bar {
            height: 20px;
            background: #e9ecef;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 10px;
        }
        
        .progress {
            height: 100%;
            background: var(--gradient);
            width: 0%;
            transition: width 0.5s;
        }
        
        /* Insignias */
        .badges-container {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        
        .badge-icon {
            width: 40px;
            height: 40px;
            background: #f8f9fa;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            transition: all 0.3s;
        }
        
        .badge-icon.earned {
            background: var(--gradient-accent);
            color: white;
            transform: scale(1.1);
        }
        
        /* Metas financieras */
        .goals-container {
            margin-top: 20px;
        }
        
        .goals-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .goal-item {
            padding: 15px;
            background: #f8f9fa;
            border-radius: 5px;
            text-align: center;
            cursor: grab;
            transition: all 0.3s;
        }
        
        .goal-item:active {
            cursor: grabbing;
        }
        
        .goal-item:hover {
            background: #e9ecef;
        }
        
        .goal-calculator {
            margin-top: 20px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 5px;
        }
        
        /* Pie de página */
        footer {
            background: var(--dark);
            color: white;
            padding: 60px 0 20px;
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }
        
        .footer-column h3 {
            font-size: 1.2rem;
            margin-bottom: 20px;
            position: relative;
            padding-bottom: 10px;
        }
        
        .footer-column h3::after {
            content: '';
            position: absolute;
            width: 40px;
            height: 3px;
            background: var(--gradient-accent);
            bottom: 0;
            left: 0;
        }
        
        .footer-column ul {
            list-style: none;
        }
        
        .footer-column ul li {
            margin-bottom: 10px;
        }
        
        .footer-column ul li a {
            color: #aaa;
            text-decoration: none;
            transition: all 0.3s ease;
        }
        
        .footer-column ul li a:hover {
            color: white;
            padding-left: 5px;
        }
        
        .copyright {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid #444;
            color: #aaa;
            font-size: 0.9rem;
        }
        
        /* Animaciones */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes slideInLeft {
            from { opacity: 0; transform: translateX(-50px); }
            to { opacity: 1; transform: translateX(0); }
        }
        
        @keyframes slideInRight {
            from { opacity: 0; transform: translateX(50px); }
            to { opacity: 1; transform: translateX(0); }
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }
        
        .animate-fade-in {
            animation: fadeIn 0.8s ease-out forwards;
        }
        
        .animate-slide-left {
            animation: slideInLeft 0.8s ease-out forwards;
        }
        
        .animate-slide-right {
            animation: slideInRight 0.8s ease-out forwards;
        }
        
        .animate-delay-1 { animation-delay: 0.3s; }
        .animate-delay-2 { animation-delay: 0.6s; }
        .animate-delay-3 { animation-delay: 0.9s; }
        
        .pulse {
            animation: pulse 2s infinite;
        }
        
        .float {
            animation: float 3s ease-in-out infinite;
        }
        
        /* Alertas */
        .alerta-parpadeante {
            font-weight: bold;
            font-size: 18px;
            animation: parpadeo 0.4s infinite alternate steps(1);
            border-left: solid 3px red;
            background-color: rgba(255, 0, 0, 0.315);
            padding: 10px;
            border-radius: 5px;
            margin-top: 15px;
        }
        
        @keyframes parpadeo {
            0% { color: #ff0000; }
            50% { color: #ffffff; }
        }
        
        /* Testimonios */
        .testimonials-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }
        
        .testimonial-card {
            background: white;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            transition: all 0.3s ease;
        }
        
        .testimonial-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        
        .testimonial-content {
            position: relative;
            padding-bottom: 20px;
            margin-bottom: 20px;
            font-style: italic;
            color: #555;
        }
        
        .testimonial-content::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 50px;
            height: 3px;
            background: var(--gradient-accent);
        }
        
        .testimonial-author {
            display: flex;
            align-items: center;
        }
        
        .testimonial-author img {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            object-fit: cover;
            margin-right: 15px;
        }
        
        .testimonial-author h4 {
            margin: 0;
            font-size: 1.1rem;
        }
        
        .testimonial-author p {
            margin: 0;
            font-size: 0.9rem;
            color: #777;
        }
        
        /* Estilos específicos para el simulador de compras */
        .shopping-simulator {
            margin-top: 20px;
        }
        
        .situation-selector {
            margin-bottom: 20px;
        }
        
        .situation-card {
            background: white;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.05);
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }
        
        .situation-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .situation-card.selected {
            border-color: var(--primary);
            background-color: rgba(67, 97, 238, 0.05);
        }
        
        .situation-card h4 {
            color: var(--secondary);
            margin-bottom: 8px;
        }
        
        .product-search-container {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .product-search-container input {
            flex: 1;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        
        .product-result-container {
            border: 1px solid #eee;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
            display: none;
            background: white;
        }
        
        .product-details {
            display: flex;
            gap: 20px;
            margin-bottom: 15px;
        }
        
        .product-image-container {
            width: 150px;
            height: 150px;
            background: #f5f5f5;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 5px;
            overflow: hidden;
        }
        
        .product-image {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }
        
        .product-info {
            flex: 1;
        }
        
        .price-comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }
        
        .price-comparison-table th, 
        .price-comparison-table td {
            padding: 10px;
            text-align: left;
            border: 1px solid #ddd;
        }
        
        .price-comparison-table th {
            background-color: #f5f5f5;
        }
        
        .best-price {
            background-color: rgba(46, 204, 113, 0.1);
            font-weight: bold;
        }
        
        .cart-container {
            border: 1px solid #eee;
            border-radius: 8px;
            padding: 15px;
            background: white;
        }
        
        .cart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .cart-empty {
            text-align: center;
            padding: 30px;
            background: #f9f9f9;
            border-radius: 5px;
        }
        
        .cart-items-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 15px;
        }
        
        .cart-items-table th, 
        .cart-items-table td {
            padding: 10px;
            text-align: left;
            border: 1px solid #ddd;
        }
        
        .cart-items-table th {
            background-color: #f5f5f5;
        }
        
        .quantity-input {
            width: 60px;
            padding: 5px;
            text-align: center;
        }
        
        .remove-item {
            background: var(--danger);
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 3px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .remove-item:hover {
            opacity: 0.8;
        }
        
        .cart-totals {
            margin-top: 15px;
            border-top: 1px solid #eee;
            padding-top: 15px;
        }
        
        .cart-total-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
        }
        
        .cart-total-label {
            font-weight: bold;
        }
        
        .cart-actions {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        
        .purchase-result {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
            display: none;
        }
        
        .savings-highlight {
            font-size: 1.1rem;
            color: var(--success);
            font-weight: bold;
            margin-top: 10px;
        }
        
        .tooltip {
            position: relative;
            display: inline-block;
            cursor: help;
            align-items: center;
            padding-left: 150px;
        }
        
        .tooltip .tooltiptext {
            visibility: hidden;
            width: 200px;
            background-color: #333;
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 5px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 0.9rem;
            font-weight: normal;
        }
        
        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }
        
        /* Responsive Design */
        @media (max-width: 992px) {
            .hero h1 {
                font-size: 2.8rem;
                line-height: 1.2;
            }
            
            .hero p {
                font-size: 1.1rem;
            }
            
            .footer-content {
                grid-template-columns: 1fr 1fr;
            }
            
            .goals-grid {
                grid-template-columns: 1fr 1fr;
            }
        }
        
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                text-align: center;
            margin-top: 10px;
            }
            
            nav ul {
                margin-top: 15px;
                flex-wrap: wrap;
                justify-content: center;
            }
            
            nav ul li {
                margin: 5px 10px;
            }
            
            .hero {
                padding-top: 80px;
                height: auto;
                min-height: 100vh;
            }
            
            .hero-content {
                padding: 60px 0;
                text-align: center;
            }
            
            .btn-outline {
                margin-left: 0;
                margin-top: 15px;
                display: block;
            }
            
            .grid {
                grid-template-columns: 1fr;
            }
            
            .footer-content {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            table {
                display: block;
                overflow-x: auto;
                white-space: nowrap;
            }
            
            .section-title h2 {
                font-size: 2rem;
            }
            
            .tabs {
                flex-direction: column;
            }
            
            .tab-btn {
                width: 100%;
                margin-bottom: 5px;
            }
            
            /* Ajustes para el simulador de compras */
            .product-details {
                flex-direction: column;
            }
            
            .product-image-container {
                width: 100%;
                margin-bottom: 15px;
            }
            
            .decision-options {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 576px) {
            .hero h1 {
                font-size: 2.2rem;
            }
            
            .hero p {
                font-size: 1rem;
            }
            
            .section-title h2 {
                font-size: 1.8rem;
            }
            
            .section-title p {
                font-size: 0.9rem;
            }
            
            .card, .activity-card {
                padding: 20px;
            }
            
            .btn {
                padding: 10px 20px;
                font-size: 0.9rem;
            }
            
            .goals-grid {
                grid-template-columns: 1fr;
            }
            
            /* Ajustes para el carrito en móviles */
            .cart-items-table td {
                padding: 5px;
                font-size: 0.9rem;
            }
            
            .cart-actions {
                flex-direction: column;
                gap: 10px;
            }
            
            .cart-actions .btn {
                width: 100%;
            }
        }
        
        /* Preloader para mejorar la experiencia de carga */
        .preloader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--gradient);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.5s, visibility 0.5s;
        }
        
        .preloader.hidden {
            opacity: 0;
            visibility: hidden;
        }
        
        .preloader-spinner {
            width: 50px;
            height: 50px;
            border: 5px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        

        /*novo jogo styles*/
        /* Estilos específicos para el juego de inversión */
    .investment-game {
        max-width: 800px;
        margin: 0 auto;
    }
    
    .stat-card {
        background: #f8f9fa;
        padding: 15px;
        border-radius: 8px;
        text-align: center;
    }
    
    .stat-card h4 {
        margin: 0 0 5px 0;
        font-size: 1rem;
    }
    
    .stat-card p {
        margin: 0;
        font-size: 1.2rem;
        font-weight: bold;
    }
    
    .investment-options {
        display: grid;
        grid-template-columns: 1fr;
        gap: 15px;
        margin-bottom: 20px;
    }
    
    .investment-card {
        background: white;
        border-radius: 8px;
        padding: 15px;
        border-left: 4px solid var(--primary);
        transition: all 0.3s;
    }
    
    .investment-card[data-risk="low"] {
        border-left-color: var(--success);
    }
    
    .investment-card[data-risk="medium"] {
        border-left-color: var(--warning);
    }
    
    .investment-card[data-risk="high"] {
        border-left-color: var(--danger);
    }
    
    .investment-card:hover {
        transform: translateY(-3px);
        box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }
    
    .investment-card h5 {
        margin: 0 0 5px 0;
        color: var(--secondary);
    }
    
    .investment-card p {
        margin: 0 0 10px 0;
        font-size: 0.9rem;
        color: #666;
    }
    
    @media (max-width: 768px) {
        .stats-grid {
            grid-template-columns: 1fr;
        }
        
        .investment-options {
            grid-template-columns: 1fr;
        }
    }




/* Estilos específicos para el simulador de crisis */
.crisis-container {
    max-width: 800px;
    margin: 0 auto;
}

.crisis-scenario-card {
    text-align: center;
    margin-bottom: 25px;
    background: #f8f9fa;
    border-left: 5px solid var(--primary);
}

.crisis-options-container {
    display: grid;
    grid-template-columns: 1fr;
    gap: 15px;
    margin-bottom: 25px;
}

.crisis-result-container {
    background: #f8f9fa;
    padding: 20px;
    border-radius: 8px;
    margin-bottom: 20px;
    display: none;
    border-left: 5px solid var(--accent);
}

.finance-health-container {
    margin-top: 20px;
    padding-top: 15px;
    border-top: 1px solid #eee;
}

.crisis-stats-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 10px;
    margin-bottom: 20px;
}

.crisis-next-btn {
    width: 100%;
    margin-top: 15px;
}

@media (max-width: 768px) {
    .crisis-stats-grid {
        grid-template-columns: 1fr;
    }
    
    .crisis-options-container {
        grid-template-columns: 1fr;
    }
}

/* Sección de comentarios */
.comments-section {
    padding: 80px 0;
    background-color: #f5f7ff;
}

.comment-form-container {
    padding: 30px;
    margin-bottom: 40px;
}

/* Sistema de estrellas */
.star-rating {
    display: flex;
    flex-direction: row-reverse;
    justify-content: flex-start;
    margin-bottom: 20px;
}

.star-rating input {
    display: none;
}

.star-rating label {
    font-size: 24px;
    color: #ccc;
    cursor: pointer;
    padding: 0 5px;
    transition: all 0.2s;
}

.star-rating input:checked ~ label,
.star-rating input:hover ~ label {
    color: #ffcc00;
}

.star-rating label:hover,
.star-rating label:hover ~ label {
    color: #ffcc00;
}

/* Contenedor de comentarios */
.comments-container {
    display: flex;
    overflow: hidden;
    position: relative;
    margin-bottom: 30px;
}

.comments-column {
    flex: 0 0 100%;
    transition: transform 0.3s ease;
    padding: 10px;
}

/* Tarjeta de comentario */
.comment-card {
    padding: 20px;
    margin-bottom: 20px;
}

.comment-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
}

.comment-author {
    font-weight: 600;
    color: var(--secondary);
}

.comment-rating {
    color: #ffcc00;
}

.comment-date {
    font-size: 0.8rem;
    color: #777;
    margin-top: 5px;
}

.comment-content {
    color: #555;
    line-height: 1.6;
}

/* Paginación */
.pagination-dots {
    display: flex;
    justify-content: center;
    margin-top: 20px;
}

.dot {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background-color: #ddd;
    margin: 0 5px;
    cursor: pointer;
    transition: all 0.3s;
}

.dot.active {
    background: var(--gradient-accent);
    transform: scale(1.2);
}

/* Mensajes */
.error-message {
    background-color: rgba(231, 76, 60, 0.1);
    color: var(--danger);
    padding: 15px;
    border-radius: 5px;
    margin-bottom: 20px;
    border-left: 3px solid var(--danger);
}

.success-message {
    background-color: rgba(46, 204, 113, 0.1);
    color: var(--success);
    padding: 15px;
    border-radius: 5px;
    margin-bottom: 20px;
    border-left: 3px solid var(--success);
}

.no-comments {
    text-align: center;
    padding: 40px;
    color: #777;
}

.green {
    background-color: rgba(0, 129, 0, 0.397);
    color: white;
    padding: 10px;
    border-radius: 5px;
    margin-top: 20px;
    border-left: solid 5px green;
    text-align: center;
    
}

/*productos recomendados*/
.recommended-products {
        margin: 15px 0;
        padding: 10px;
        background: #f8f9fa;
        border-radius: 5px;
        border: 1px solid #dee2e6;
    }
    .recommended-products h5 {
        margin-bottom: 8px;
        font-size: 14px;
        color: #495057;
    }
    .recommended-buttons {
        display: flex;
        flex-wrap: wrap;
        gap: 5px;
    }
    .rec-btn {
        padding: 3px 8px;
        font-size: 12px;
        background: #e9ecef;
        border: 1px solid #ced4da;
        border-radius: 4px;
        cursor: pointer;
        transition: all 0.2s;
    }
    .rec-btn:hover {
        background: #dee2e6;
    }

    #intro {
        text-align: center;
        font-size: 1.2rem;
        color: #333;
        margin-top: 20px;
        padding: 10px;
        background-color: rgba(255, 255, 0, 0.1);
        border-left: solid 5px yellow;
    }

    #intro-2 {
        text-align: center;
        font-size: 1.1rem;
        color: #333;
        margin-top: 20px;
        padding: 10px;
        background-color: rgba(0, 255, 0, 0.1);
        border-left: solid 5px green;
    }

    /*estilos para los recomendados*/
    .recommended-products {
  margin: 15px 0;
  padding: 10px;
  background: #f8f9fa;
  border-radius: 5px;
  border: 1px solid #dee2e6;
}

.recommended-products h5 {
  margin-bottom: 8px;
  font-size: 14px;
  color: #495057;
}

.recommended-buttons {
  display: flex;
  flex-wrap: wrap;
  gap: 5px;
}

.rec-btn {
  padding: 3px 8px;
  font-size: 12px;
  background: #e9ecef;
  border: 1px solid #ced4da;
  border-radius: 4px;
  cursor: pointer;
  transition: all 0.2s;
}

.rec-btn:hover {
  background: #dee2e6;
}
    </style>
</head>
<body>
    <!-- Preloader -->
    <div class="preloader">
        <div class="preloader-spinner"></div>
    </div>

    <!-- Encabezado -->
    <header>
        <div class="container header-content">
            <div class="logo animate__animated animate__fadeInDown">EduFinanza</div>
            <nav>
                <ul>
                    <li><a href="#que-es" class="animate__animated animate__fadeInDown animate__delay-1s">¿Qué es?</a></li>
                    <li><a href="#conceptos-basicos" class="animate__animated animate__fadeInDown animate__delay-1s">Conceptos Básicos</a></li>
                    <li><a href="#como-se-aplica" class="animate__animated animate__fadeInDown animate__delay-1s">¿Cómo se aplica?</a></li>
                    <li><a href="#actividades" class="animate__animated animate__fadeInDown animate__delay-1s">Actividades</a></li>
                    <li><a href="#errores-comunes" class="animate__animated animate__fadeInDown animate__delay-1s">Errores comunes</a></li>
                    <li><a href="#testimonios" class="animate__animated animate__fadeInDown animate__delay-1s">Testimonios</a></li>
                    <li><a href="#comentarios" class="animate__animated animate__fadeInDown animate__delay-1s">Comentarios</a></li>
                    <li><a href="#contacto" class="animate__animated animate__fadeInDown animate__delay-1s">Contacto</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Sección Hero -->
    <section class="hero">
        <div class="container">
            <div class="hero-content">
                <h1 class="animate__animated animate__fadeInUp">Educación Financiera Todos</h1>
                <p class="animate__animated animate__fadeInUp animate__delay-1s">Aprende a gestionar tus finanzas, tomar decisiones inteligentes y alcanzar tus metas económicas con nuestras herramientas interactivas.</p>
                <div class="animate__animated animate__fadeInUp animate__delay-2s">
                    <a href="#actividades" class="btn pulse">Explora Actividades</a>
                    <a href="#que-es" class="btn btn-outline">Aprender Más</a>
                </div>
            </div>
        </div>
    </section>

    <p class="animate__animated animate__fadeIn animate__delay-1s" id="intro">ℹ️ Antes de empezar a hacer cualquier actividad favor de leer la información completa, Gracias.</p>

    <!--Introducción-->
    <section class="introduction">
        <div class="container">
            <div class="section-title">
                <h2 class="animate__animated animate__fadeIn">Introducción</h2>
            </div>
            <div class="section-content" class="grid">
                <p class="animate__animated animate__fadeIn animate__delay-2s" id="intro-2">La educación financiera es un proceso continuo que requiere tiempo y dedicación. Asegúrate de aprovechar al máximo los recursos disponibles y no dudes en buscar ayuda si la necesitas.</p>
            </div>
    </section>

    <!-- Sección Qué es -->
    <section id="que-es">
        <div class="container">
            <div class="section-title">
                <h2 class="animate__animated animate__fadeIn">¿Qué es la Educación Financiera?</h2>
                <p class="animate__animated animate__fadeIn animate__delay-1s">Descubre el poder del conocimiento financiero y cómo puede transformar tu vida</p>
            </div>
            <div class="grid">
                <div class="card animate__animated animate__fadeInUp">
                    <div class="feature-icon">💡</div>
                    <h3>Concepto Fundamental</h3>
                    <p>La educación financiera es el proceso de adquirir conocimientos y habilidades que permiten a las personas tomar decisiones financieras informadas y efectivas a lo largo de su vida.</p>
                </div>
                <div class="card animate__animated animate__fadeInUp animate__delay-1s">
                    <div class="feature-icon">📊</div>
                    <h3>Importancia</h3>
                    <p>En un mundo económico complejo, la educación financiera es esencial para evitar deudas, planificar el futuro y aprovechar oportunidades de inversión y crecimiento.</p>
                </div>
                <div class="card animate__animated animate__fadeInUp animate__delay-2s">
                    <div class="feature-icon">🎯</div>
                    <h3>Objetivos</h3>
                    <p>Empoderar a las personas para gestionar presupuestos, entender productos financieros, planificar ahorros e inversiones, y protegerse contra riesgos económicos.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Sección Conceptos Básicos -->
<section id="conceptos-basicos">
    <div class="container">
        <div class="section-title">
            <h2 class="animate__animated animate__fadeIn">Conceptos Básicos</h2>
            <p class="animate__animated animate__fadeIn animate__delay-1s">Fundamentos esenciales para entender las finanzas personales</p>
        </div>
        
        <div class="grid">
            <div class="card animate__animated animate__fadeInUp">
                <div class="feature-icon">💰</div>
                <h3>Ingresos vs Gastos</h3>
                <p>La base de las finanzas personales es entender la diferencia entre lo que ganas y lo que gastas. Siempre busca que tus ingresos superen tus gastos.</p>
                <div class="tooltip">ℹ️
                    <span class="tooltiptext">Ejemplo: Si ganas $10,000 al mes, tus gastos deberían ser menores para poder ahorrar.</span>
                </div>
            </div>
            
            <div class="card animate__animated animate__fadeInUp animate__delay-1s">
                <div class="feature-icon">🏦</div>
                <h3>Interés Compuesto</h3>
                <p>El "interés sobre el interés" que hace crecer tus ahorros exponencialmente con el tiempo. Cuanto antes empieces, más beneficio obtendrás.</p>
                <div class="tooltip">ℹ️
                    <span class="tooltiptext">$100 invertidos al 10% anual serán $259 después de 10 años.</span>
                </div>
            </div>
            
            <div class="card animate__animated animate__fadeInUp animate__delay-2s">
                <div class="feature-icon">🛡️</div>
                <h3>Fondo de Emergencia</h3>
                <p>Dinero reservado equivalente a 3-6 meses de gastos para cubrir imprevistos sin afectar tu economía.</p>
                <div class="tooltip">ℹ️
                    <span class="tooltiptext">Si gastas $5,000 al mes, tu fondo debería ser $15,000-$30,000.</span>
                </div>
            </div>
        </div>
        
        <div class="grid" style="margin-top: 30px;">
            <div class="card animate__animated animate__fadeInUp">
                <div class="feature-icon">📉</div>
                <h3>Inflación</h3>
                <p>El aumento generalizado de precios que reduce el poder adquisitivo de tu dinero. Tus ahorros deben crecer más que la inflación.</p>
                <div class="tooltip">ℹ️
                    <span class="tooltiptext">Con 5% de inflación, lo que hoy cuesta $100, costará $105 en un año.</span>
                </div>
            </div>
            
            <div class="card animate__animated animate__fadeInUp animate__delay-1s">
                <div class="feature-icon">💳</div>
                <h3>Crédito Responsable</h3>
                <p>Usar préstamos y tarjetas de crédito de forma inteligente, pagando el total cada mes para evitar intereses altos.</p>
                <div class="tooltip">ℹ️
                    <span class="tooltiptext">El interés de tarjetas puede superar el 50% anual si no pagas el total.</span>
                </div>
            </div>
            
            <div class="card animate__animated animate__fadeInUp animate__delay-2s">
                <div class="feature-icon">🎯</div>
                <h3>Metas SMART</h3>
                <p>Objetivos financieros Específicos, Medibles, Alcanzables, Relevantes y con Tiempo definido para mayor efectividad.</p>
                <div class="tooltip">ℹ️
                    <span class="tooltiptext">Ejemplo: "Ahorrar $30,000 en 12 meses para el enganche de un auto".</span>
                </div>
            </div>
        </div>
    </div>
</section>

    <!-- Sección Cómo se aplica -->
    <section id="como-se-aplica" class="bg-light">
        <div class="container">
            <div class="section-title">
                <h2 class="animate__animated animate__fadeIn">¿Cómo se aplica?</h2>
                <p class="animate__animated animate__fadeIn animate__delay-1s">Aplicaciones prácticas de la educación financiera en la vida diaria</p>
            </div>
            <div class="grid">
                <div class="card animate__animated animate__fadeInLeft">
                    <h3>Presupuesto Personal</h3>
                    <p>Aprender a crear y mantener un presupuesto es fundamental para controlar gastos, evitar deudas y alcanzar metas financieras.</p>
                </div>
                <div class="card animate__animated animate__fadeInLeft animate__delay-1s">
                    <h3>Ahorro e Inversión</h3>
                    <p>Comprender cómo hacer crecer tu dinero a través de diferentes instrumentos de ahorro e inversión según tu perfil de riesgo.</p>
                </div>
                <div class="card animate__animated animate__fadeInRight">
                    <h3>Gestión de Deudas</h3>
                    <p>Estrategias para manejar créditos de manera inteligente, evitar sobreendeudamiento y salir de deudas existentes.</p>
                </div>
                <div class="card animate__animated animate__fadeInRight animate__delay-1s">
                    <h3>Planificación a Largo Plazo</h3>
                    <p>Preparación para eventos importantes como educación universitaria, compra de vivienda o jubilación mediante planes financieros sólidos.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Sección de Actividades -->
    <section id="actividades">
        <div class="container">
            <div class="section-title">
                <h2 class="animate__animated animate__fadeIn">Actividades Interactivas</h2>
                <p class="animate__animated animate__fadeIn animate__delay-1s">Aprende jugando con nuestras herramientas educativas</p>
            </div>
            
            <div class="tab-container">
                <div class="tabs">
                    <button class="tab-btn active animate__animated animate__fadeIn" data-tab="adolescentes">Para Adolescentes</button>
                    <button class="tab-btn animate__animated animate__fadeIn animate__delay-1s" data-tab="adultos">Para Adultos</button>
                </div>
                
                <!-- Contenido para Adolescentes -->
                <div class="tab-content active" id="adolescentes">
                    <div class="grid">
                        <!-- Simulador de Presupuesto Mensual -->
                        <div class="activity-card animate__animated animate__fadeInUp">
                            <span class="badge">Popular</span>
                            <h3>Simulador de Presupuesto Mensual</h3>
                            <p>Ingresa ingresos ficticios y gastos (alquiler, comida, ocio) y descubre si ahorras o te endeudas. Barras ajustables y gráficos en tiempo real.</p>
                            <div class="activity-container">
                                <div class="budget-form">
                                    <div>
                                        <div class="form-group">
                                            <label for="income">Ingresos Mensuales:</label>
                                            <input type="number" id="income" value="1500" min="0">
                                        </div>
                                        <div class="form-group">
                                            <label for="rent">Alquiler/Vivienda:</label>
                                            <input type="number" id="rent" value="500" min="0">
                                        </div>
                                        <div class="form-group">
                                            <label for="food">Comida:</label>
                                            <input type="number" id="food" value="300" min="0">
                                        </div>
                                    </div>
                                    <div>
                                        <div class="form-group">
                                            <label for="transport">Transporte:</label>
                                            <input type="number" id="transport" value="100" min="0">
                                        </div>
                                        <div class="form-group">
                                            <label for="entertainment">Entretenimiento:</label>
                                            <input type="number" id="entertainment" value="200" min="0">
                                        </div>
                                        <div class="form-group">
                                            <label for="other">Otros Gastos:</label>
                                            <input type="number" id="other" value="100" min="0">
                                        </div>
                                    </div>
                                </div>
                                <button id="calculate-budget" class="btn">Calcular Presupuesto</button>
                                <div id="budget-result" class="budget-result" style="display: none;">
                                    <p>Resultado: <span id="result-text"></span></p>
                                    <p id="advice-text"></p>
                                </div>
                                <div class="chart-container">
                                    <canvas id="budgetChart"></canvas>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Juego de Toma de Decisiones -->
                        <div class="activity-card animate__animated animate__fadeInUp animate__delay-1s">
                            <h3>Juego de Toma de Decisiones</h3>
                            <p>Elige tu propia aventura financiera. ¿Compras un smartphone nuevo o ahorras para un curso? Cada decisión afecta tu saldo virtual.</p>
                            <div class="activity-container">
                                <div class="decision-game">
                                    <p id="decision-scenario">Tienes $500 ahorrados. Tu smartphone actual funciona pero está un poco lento. ¿Qué haces?</p>
                                    <div class="decision-options">
                                        <button class="decision-btn" data-option="1">Comprar nuevo smartphone ($400)</button>
                                        <button class="decision-btn" data-option="2">Reparar el actual ($100) y ahorrar el resto</button>
                                        <button class="decision-btn" data-option="3">Seguir con el mismo y ahorrar todo</button>
                                    </div>
                                    <div id="game-result" class="game-result">
                                        <h4>Resultado:</h4>
                                        <p id="result-message"></p>
                                        <p>Saldo actual: $<span id="current-balance">500</span></p>
                                        <button id="next-scenario" class="btn" style="margin-top: 10px;">Siguiente Situación</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Quiz de Mitos Financieros -->
                        <div class="activity-card animate__animated animate__fadeInUp animate__delay-2s">
                            <h3>Quiz de Mitos Financieros</h3>
                            <p>¿Las tarjetas de crédito son siempre malas? Responde preguntas y recibe feedback con memes y GIFs divertidos.</p>
                            <div class="activity-container">
                                <div class="quiz-container">
                                    <div class="quiz-question">
                                        <p>1. ¿Las tarjetas de crédito son siempre malas?</p>
                                        <div class="quiz-option" data-correct="false">Verdadero</div>
                                        <div class="quiz-option" data-correct="true">Falso</div>
                                        <div class="quiz-feedback">
                                            <p>¡Correcto! Las tarjetas de crédito no son malas si se usan responsablemente. El problema es gastar más de lo que puedes pagar.</p>
                                            <img src="https://media.giphy.com/media/l0HU7JI1nq8lP6QaI/giphy.gif" alt="Meme financiero" style="max-width: 100%; margin-top: 10px;">
                                        </div>
                                    </div>
                                    <div class="quiz-question">
                                        <p>2. ¿Ahorrar es solo para gente con mucho dinero?</p>
                                        <div class="quiz-option" data-correct="false">Sí, yo no gano suficiente</div>
                                        <div class="quiz-option" data-correct="true">No, todos pueden ahorrar algo</div>
                                        <div class="quiz-feedback">
                                            <p>¡Exacto! Incluso ahorrando poco pero consistentemente puedes acumular un buen fondo con el tiempo.</p>
                                            <img src="https://media.giphy.com/media/3o7TKSjRrfIPjeiVyM/giphy.gif" alt="Meme ahorro" style="max-width: 100%; margin-top: 10px;">
                                        </div>
                                    </div>
                                    <div class="quiz-question">
                                        <p>3. ¿Invertir es como apostar?</p>
                                        <div class="quiz-option" data-correct="false">Sí, es pura suerte</div>
                                        <div class="quiz-option" data-correct="true">No, con educación puedes reducir riesgos</div>
                                        <div class="quiz-feedback">
                                            <p>¡Bien! Invertir con conocimiento no es apostar. La clave es diversificar y entender dónde pones tu dinero.</p>
                                            <img src="https://media.giphy.com/media/3o7TKrJtFvG4jYtG7K/giphy.gif" alt="Meme inversión" style="max-width: 100%; margin-top: 10px;">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>



                        <!--Reto del ahorro etremo-->
                        <div class="activity-card animate__animated animate__fadeInUp">
    <span class="badge">Nuevo</span>
    <h3>🏆 Reto del Ahorro Extremo</h3>
    <p>Administra tu salario virtual y aprende a distribuir tus gastos sin quedarte sin dinero antes de fin de mes.</p>
    <div class="activity-container">
        <div class="card" style="margin-bottom: 20px;">
            <h4>Tu salario este mes: <span id="virtual-salary">$1,500</span></h4>
            <p>Distribuye tu presupuesto sabiamente entre estas categorías:</p>
        </div>
        
        <div class="budget-sliders">
            <div class="form-group">
                <label for="housing-slider">🏠 Vivienda: <span id="housing-value">$500</span></label>
                <input type="range" id="housing-slider" min="300" max="800" value="500" class="slider">
            </div>
            
            <div class="form-group">
                <label for="food-slider">🍎 Comida: <span id="food-value">$300</span></label>
                <input type="range" id="food-slider" min="150" max="600" value="300" class="slider">
            </div>
            
            <div class="form-group">
                <label for="transport-slider">🚌 Transporte: <span id="transport-value">$100</span></label>
                <input type="range" id="transport-slider" min="50" max="300" value="100" class="slider">
            </div>
            
            <div class="form-group">
                <label for="entertainment-slider">🎮 Entretenimiento: <span id="entertainment-value">$200</span></label>
                <input type="range" id="entertainment-slider" min="0" max="400" value="200" class="slider">
            </div>
            
            <div class="form-group">
                <label for="savings-slider">💰 Ahorros: <span id="savings-value">$100</span></label>
                <input type="range" id="savings-slider" min="0" max="500" value="100" class="slider">
            </div>
        </div>
        
        <div class="budget-summary">
            <div class="progress-container" style="margin-top: 20px;">
                <h4>Dinero restante: <span id="remaining-money">$300</span></h4>
                <div class="progress-bar">
                    <div class="progress" id="budget-progress" style="width: 80%; background-color: #2ecc71;"></div>
                </div>
            </div>
            
            <div class="chart-container" style="height: 250px; margin-top: 20px;">
                <canvas id="budgetPieChart"></canvas>
            </div>
        </div>
        
        <div id="budget-alert" class="alerta-parpadeante" style="display: none;">
            ¡Cuidado! Te estás quedando sin dinero este mes.
        </div>
        
        <button id="next-month-btn" class="btn" style="margin-top: 20px;">Avanzar al próximo mes</button>
    </div>
</div>



<!--CryptoQuest-->
<div class="activity-card animate__animated animate__fadeInUp animate__delay-1s">
    <h3>🕹️ CryptoQuest</h3>
    <p>Invirtiendo en criptomonedas ficticias para aprender sobre volatilidad del mercado sin riesgos reales.</p>
    <div class="activity-container">
        <div class="card" style="margin-bottom: 20px;">
            <h4>Tu balance: <span id="crypto-balance">$1,000</span></h4>
            <p>Invierte sabiamente en estas criptomonedas ficticias:</p>
        </div>
        
        <div class="crypto-table-container">
            <table class="price-comparison-table">
                <thead>
                    <tr>
                        <th>Cripto</th>
                        <th>Precio Actual</th>
                        <th>Cambio (24h)</th>
                        <th>Tienes</th>
                        <th>Invertir</th>
                    </tr>
                </thead>
                <tbody id="crypto-table-body">
                    <!-- Las filas se llenarán con JavaScript -->
                </tbody>
            </table>
        </div>
        
        <div class="chart-container" style="height: 300px; margin-top: 20px;">
            <canvas id="cryptoChart"></canvas>
        </div>
        
        <div class="crypto-actions" style="margin-top: 20px; display: flex; justify-content: space-between;">
            <button id="next-day-btn" class="btn">Avanzar 1 día</button>
            <button id="sell-all-btn" class="btn" style="background: var(--danger);">Vender todo</button>
        </div>
        
        <div id="crypto-result" class="budget-result" style="display: none; margin-top: 20px;">
            <p>Resultado: <span id="crypto-result-text"></span></p>
        </div>
    </div>
</div>


<!-- novo jogo -->
<!-- Juego de Inversión Inteligente -->
<div class="activity-card animate__animated animate__fadeInUp">
    <span class="badge">Nuevo</span>
    <h3>💹 Inversión Inteligente</h3>
    <p>Aprende los principios básicos de inversión administrando un capital virtual. Decide entre diferentes opciones de inversión y observa cómo crece tu dinero con el tiempo.</p>
    <div class="activity-container">
        <div class="investment-game">
            <!-- Información del jugador -->
            <div class="card" style="margin-bottom: 20px; text-align: center;">
                <h4>Capital inicial: <span id="initial-capital">$1,000</span></h4>
                <p>Objetivo: Haz crecer tu capital en 12 meses</p>
            </div>
            
            <!-- Barra de progreso -->
            <div class="progress-container" style="margin-bottom: 20px;">
                <h4>Mes actual: <span id="current-month">1</span>/12</h4>
                <div class="progress-bar">
                    <div class="progress" id="month-progress" style="width: 8.33%;"></div>
                </div>
            </div>
            
            <!-- Estadísticas -->
            <div class="stats-grid" style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 20px;">
                <div class="stat-card">
                    <h4>💰 Capital actual</h4>
                    <p id="current-money">$1,000</p>
                </div>
                <div class="stat-card">
                    <h4>📈 Rendimiento</h4>
                    <p id="performance">0%</p>
                </div>
            </div>
            
            <!-- Opciones de inversión -->
            <div class="investment-options">
                <h4 style="margin-bottom: 15px;">Opciones de inversión este mes:</h4>
                
                <div class="investment-card" data-risk="low" data-return="3">
                    <h5>Cuenta de ahorros</h5>
                    <p>Rendimiento esperado: 3% anual (bajo riesgo)</p>
                    <button class="btn btn-sm invest-btn">Invertir aquí</button>
                </div>
                
                <div class="investment-card" data-risk="medium" data-return="8">
                    <h5>Fondo indexado</h5>
                    <p>Rendimiento esperado: 8% anual (riesgo medio)</p>
                    <button class="btn btn-sm invest-btn">Invertir aquí</button>
                </div>
                
                <div class="investment-card" data-risk="high" data-return="20">
                    <h5>Startup tecnológica</h5>
                    <p>Rendimiento esperado: 20% anual (alto riesgo)</p>
                    <button class="btn btn-sm invest-btn">Invertir aquí</button>
                </div>
            </div>
            
            <!-- Gráfico de rendimiento -->
            <div class="chart-container" style="height: 250px; margin-top: 20px;">
                <canvas id="investmentChart"></canvas>
            </div>
            
            <!-- Resultados -->
            <div id="investment-result" class="budget-result" style="display: none; margin-top: 20px;">
                <h4>Resultado del mes:</h4>
                <p id="month-result-text"></p>
                <p id="investment-tip"></p>
            </div>
            
            <button id="next-month-investment" class="btn" style="margin-top: 20px; width: 100%;">Avanzar al próximo mes</button>
        </div>
    </div>
</div>


                        
                        <!-- Simulador de Compras Inteligentes para Adolescentes -->
                        <div class="activity-card animate__animated animate__fadeInUp">
                            <h3>Simulador de Compras Inteligentes</h3>
                            <p>Aprende a comparar precios y tomar decisiones de compra informadas en el supermercado. Este simulador te muestra cómo pequeños ahorros en cada producto pueden sumar grandes cantidades al final del mes.</p>
                            
                            <div class="activity-container shopping-simulator">
                                <!-- Explicación del simulador -->
                                <div class="card" style="margin-bottom: 20px;">
                                    <h4>¿Qué aprenderás con este simulador?</h4>
                                    <p>Este ejercicio te ayudará a:</p>
                                    <ul>
                                        <li>Comparar precios entre diferentes establecimientos</li>
                                        <li>Tomar decisiones de compra basadas en valor y no solo en precio</li>
                                        <li>Planificar tus compras para ahorrar dinero</li>
                                        <li>Entender cómo los pequeños ahorros se acumulan</li>
                                        <li>Priorizar necesidades vs. deseos en el supermercado</li>
                                    </ul>
                                </div>
                                
                                <!-- Selector de situaciones para adolescentes -->
                                <div class="situation-selector">
                                    <h4>Elige una situación para practicar:</h4>
                                    <div class="grid" style="grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;">
                                        <div class="situation-card" data-situation="1" data-budget="500">
                                            <h4>Situación 1: Compras semanales básicas</h4>
                                            <p>Tienes $500 para comprar comida para la semana. ¿Cómo maximizarás tu presupuesto?</p>
                                        </div>
                                        <div class="situation-card" data-situation="2" data-budget="300">
                                            <h4>Situación 2: Suministros para el hogar</h4>
                                            <p>Necesitas abastecer tu hogar con productos de limpieza y cuidado personal con $300. ¿Qué priorizarás?</p>
                                        </div>
                                        <div class="situation-card" data-situation="3" data-budget="200">
                                            <h4>Situación 3: Preparación de comidas</h4>
                                            <p>Con $200, compra ingredientes para preparar comidas caseras saludables.</p>
                                        </div>
                                        <div class="situation-card" data-situation="4" data-budget="400">
                                            <h4>Situación 4: Fiesta con amigos</h4>
                                            <p>Organizas una reunión con $400. Compra snacks y bebidas para compartir. ¿Cómo equilibrar comida y bebidas?</p>
                                        </div>
                                        <div class="situation-card" data-situation="5" data-budget="600">
                                            <h4>Situación 5: Compra inteligente de carnes</h4>
                                            <p>Con $600, compra diferentes tipos de carne para el mes. ¿Cómo distribuir el presupuesto?</p>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Presupuesto actual -->
                                <div id="current-budget-display" class="card" style="margin: 20px 0; text-align: center; display: none;">
                                    <h4>Presupuesto disponible: <span id="current-budget-amount">$0</span></h4>
                                    <p id="situation-description"></p>
                                </div>
                                
                                <!-- Buscador de productos -->
                                <div class="form-group">
                                    <label for="product-search">Buscar producto por ID (ej. 10001, 10002...):</label>
                                    <div class="product-search-container">
                                        <input type="number" id="product-search" placeholder="Ingresa ID del producto">
                                        <button id="search-product" class="btn btn-sm">Buscar</button>
                                    </div>
                                </div>
                                
                                <!-- Resultado de búsqueda -->
                                <div id="product-result" class="product-result-container">
                                    <div class="product-details">
                                        <div class="product-image-container">
                                            <img id="product-image" src="" alt="Imagen del producto" class="product-image">
                                        </div>
                                        <div class="product-info">
                                            <h4 id="product-name"></h4>
                                            <p id="product-description"></p>
                                            <p id="product-category" style="color: #666;"></p>
                                            
                                            <div style="margin-top: 15px; display: flex; align-items: center;">
                                                <button id="add-to-cart" class="btn btn-sm">Agregar al carrito</button>
                                                <input type="number" id="product-quantity" value="1" min="1" style="width: 60px; margin-left: 10px;">
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- Tabla de comparación de precios -->
                                    <h5 style="margin-top: 20px; margin-bottom: 10px;">Precios en diferentes supermercados:</h5>
                                    <table class="price-comparison-table">
                                        <thead>
                                            <tr>
                                                <th>Supermercado</th>
                                                <th>Precio</th>
                                                <th>Promoción</th>
                                                <th>Precio por unidad</th>
                                            </tr>
                                        </thead>
                                        <tbody id="price-comparison">
                                            <!-- Los precios se llenarán con JavaScript -->
                                        </tbody>
                                    </table>
                                </div>
                                
                                <!-- Carrito de compras -->
                                <div class="cart-container">
                                    <div class="cart-header">
                                        <h4>Tu carrito de compras</h4>
                                        <span id="cart-summary"></span>
                                    </div>
                                    
                                    <div id="cart-empty" class="cart-empty">
                                        <p>Tu carrito está vacío. Busca productos para agregarlos.</p>
                                    </div>
                                    
                                    <table id="cart-items" class="cart-items-table" style="display: none;">
                                        <thead>
                                            <tr>
                                                <th>Producto</th>
                                                <th>Cantidad</th>
                                                <th>Precio unitario</th>
                                                <th>Total</th>
                                                <th>Acciones</th>
                                            </tr>
                                        </thead>
                                        <tbody id="cart-content">
                                            <!-- Los productos del carrito se llenarán con JavaScript -->
                                        </tbody>
                                    </table>
                                    
                                    <!-- Totales del carrito -->
                                    <div id="cart-totals" class="cart-totals" style="display: none;">
                                        <div class="cart-total-row">
                                            <span class="cart-total-label">Subtotal:</span>
                                            <span id="cart-subtotal">$0.00</span>
                                        </div>
                                        <div class="cart-total-row">
                                            <span class="cart-total-label">Impuestos (16%):</span>
                                            <span id="cart-taxes">$0.00</span>
                                        </div>
                                        <div class="cart-total-row">
                                            <span class="cart-total-label">Total:</span>
                                            <span id="cart-total">$0.00</span>
                                        </div>
                                    </div>
                                    
                                    <!-- Acciones del carrito -->
                                    <div class="cart-actions">
                                        <button id="clear-cart" class="btn" style="background: var(--danger);">Vaciar carrito</button>
                                        <button id="checkout" class="btn">Realizar compra</button>
                                    </div>
                                </div>
                                
                                <!-- Resultado de la compra -->
                                <div id="purchase-result" class="purchase-result">
                                    <h4>Resultado de tu compra:</h4>
                                    <p id="purchase-message"></p>
                                    <p id="savings-message" class="savings-highlight"></p>
                                    <p id="budget-analysis"></p>
                                    <button id="new-purchase" class="btn" style="margin-top: 10px;">Hacer nueva compra</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Contenido para Adultos -->
                <div class="tab-content" id="adultos">
                    <div class="grid">
                        <!-- Calculadora de Interés Compuesto -->
                        <div class="activity-card animate__animated animate__fadeInUp">
                            <h3>Calculadora de Interés Compuesto</h3>
                            <p>Ajusta montos, plazos y tasas para ver cómo crece tu dinero con el tiempo. Gráfico animado que compara ahorros con/sin interés compuesto.</p>
                            <div class="activity-container">
                                <div class="calculator-form">
                                    <div>
                                        <div class="form-group">
                                            <label for="initial-amount">Monto Inicial:</label>
                                            <input type="number" id="initial-amount" value="1000" min="0">
                                        </div>
                                        <div class="form-group">
                                            <label for="monthly-contribution">Aporte Mensual:</label>
                                            <input type="number" id="monthly-contribution" value="100" min="0">
                                        </div>
                                    </div>
                                    <div>
                                        <div class="form-group">
                                            <label for="interest-rate">Tasa de Interés Anual (%):</label>
                                            <input type="number" id="interest-rate" value="5" min="0" max="30" step="0.1">
                                        </div>
                                        <div class="form-group">
                                            <label for="years">Años:</label>
                                            <input type="number" id="years" value="10" min="1" max="50">
                                        </div>
                                    </div>
                                </div>
                                <button id="calculate-interest" class="btn">Calcular</button>
                                <div class="calculator-result">
                                    <p>Tu inversión crecerá a: <strong id="final-amount">$0</strong></p>
                                    <p>Total aportado: <span id="total-contributed">$0</span></p>
                                    <p>Intereses ganados: <span id="interest-earned">$0</span></p>
                                </div>
                                <div class="chart-container">
                                    <canvas id="interestChart"></canvas>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Reto de Ahorro de 30 Días -->
                        <div class="activity-card animate__animated animate__fadeInUp animate__delay-1s">
                            <span class="badge">Nuevo</span>
                            <h3>Reto de Ahorro de 30 Días</h3>
                            <p>Elige un objetivo y recibe desafíos diarios. Barra de progreso y badges por logros. Comparte tus resultados en redes.</p>
                            <div class="activity-container">
                                <div class="challenge-container">
                                    <div class="form-group">
                                        <label for="saving-goal">Objetivo de Ahorro:</label>
                                        <input type="number" id="saving-goal" value="100" min="10">
                                    </div>
                                    <button id="start-challenge" class="btn">Comenzar Reto</button>
                                    
                                    <div id="challenge-day" class="challenge-day">
                                        <h4>Día <span id="current-day">1</span>/30</h4>
                                        <p id="daily-challenge">Hoy evita gastar en bebidas azucaradas y guarda ese dinero.</p>
                                        <button id="complete-challenge" class="btn" style="margin-top: 10px;">Completé el Desafío</button>
                                    </div>
                                    
                                    <div class="progress-container">
                                        <h4>Progreso:</h4>
                                        <div class="progress-bar">
                                            <div class="progress" id="saving-progress" style="width: 0%"></div>
                                        </div>
                                        <p>Ahorrado: $<span id="saved-amount">0</span> de $<span id="goal-amount">100</span></p>
                                    </div>
                                    
                                    <div class="badges-container">
                                        <div class="badge-icon" id="badge-7">7</div>
                                        <div class="badge-icon" id="badge-15">15</div>
                                        <div class="badge-icon" id="badge-30">30</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Mapa de Metas Financieras -->
                        <div class="activity-card animate__animated animate__fadeInUp animate__delay-2s">
                            <h3>Mapa de Metas Financieras</h3>
                            <p>Arrastra iconos (casa, viaje, auto) y calcula cuánto debes ahorrar mensualmente para lograrlo. Incluye casos reales.</p>
                            <div class="activity-container">
                                <div class="goals-container">
                                    <h4>Selecciona tus metas:</h4>
                                    <div class="goals-grid">
                                        <div class="goal-item" draggable="true" data-goal="casa" data-cost="200000">
                                            🏠 Casa ($200,000)
                                        </div>
                                        <div class="goal-item" draggable="true" data-goal="auto" data-cost="25000">
                                            🚗 Auto ($25,000)
                                        </div>
                                        <div class="goal-item" draggable="true" data-goal="viaje" data-cost="5000">
                                            ✈️ Viaje ($5,000)
                                        </div>
                                        <div class="goal-item" draggable="true" data-goal="educacion" data-cost="15000">
                                            🎓 Educación ($15,000)
                                        </div>
                                        <div class="goal-item" draggable="true" data-goal="emergencia" data-cost="10000">
                                            💼 Fondo Emergencia ($10,000)
                                        </div>
                                        <div class="goal-item" draggable="true" data-goal="jubilacion" data-cost="300000">
                                            🏖️ Jubilación ($300,000)
                                        </div>
                                    </div>
                                    
                                    <div id="selected-goals" style="min-height: 100px; border: 2px dashed #ccc; padding: 15px; margin-top: 20px; border-radius: 5px;">
                                        <p>Arrastra tus metas aquí</p>
                                    </div>
                                    
                                    <div class="goal-calculator">
                                        <div class="form-group">
                                            <label for="goal-years">¿En cuántos años quieres lograrlo?</label>
                                            <input type="number" id="goal-years" value="5" min="1">
                                        </div>
                                        <button id="calculate-goal" class="btn">Calcular Ahorro Mensual</button>
                                        <div class="goal-result">
                                            <p>Necesitas ahorrar: <strong id="monthly-saving">$0</strong> por mes</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>



                        <!--Simulador de crisis financiera-->
                        <div class="activity-card animate__animated animate__fadeInUp">
    <h3>📉 Simulador de Crisis Financiera</h3>
    <p>Enfrenta situaciones financieras difíciles y aprende a tomar las mejores decisiones.</p>
    <div class="activity-container crisis-container">
        <div class="crisis-info">
            <div class="card crisis-scenario-card">
                <h4 id="crisis-day">Día 1</h4>
                <p id="crisis-scenario">¡Comencemos! Presiona "Siguiente" para enfrentar tu primera crisis financiera.</p>
            </div>
            
            <div id="crisis-options" class="crisis-options-container">
                <!-- Las opciones se llenarán con JavaScript -->
            </div>
            
            <div id="crisis-result" class="crisis-result-container">
                <h4>🔍 Resultado:</h4>
                <p id="crisis-result-text"></p>
                <p id="crisis-explanation"></p>
                <div class="finance-health-container">
                    <h4>Tu salud financiera:</h4>
                    <div class="progress-bar">
                        <div class="progress" id="finance-health-bar"></div>
                    </div>
                    <p id="health-percentage">100%</p>
                </div>
            </div>
            
            <div class="crisis-stats-grid">
                <div class="stat-card">
                    <h4>💰 Ahorros</h4>
                    <p id="savings-amount">$10,000</p>
                </div>
                <div class="stat-card">
                    <h4>💳 Deuda</h4>
                    <p id="debt-amount">$0</p>
                </div>
                <div class="stat-card">
                    <h4>🏠 Activos</h4>
                    <p id="assets-amount">$50,000</p>
                </div>
            </div>
            
            <button id="next-crisis-btn" class="btn crisis-next-btn">Siguiente Crisis</button>
        </div>
    </div>
</div>

<!--Carrrera del fondo de emergencia-->
<div class="activity-card animate__animated animate__fadeInUp animate__delay-1s">
    <h3>💰 Carrera del Fondo de Emergencia</h3>
    <p>Ahorra para crear un fondo de emergencia equivalente a 6 meses de gastos.</p>
    <div class="activity-container">
        <div class="card" style="margin-bottom: 20px;">
            <h4>Configura tu meta de ahorro</h4>
            <div class="form-group">
                <label for="monthly-expenses">Gastos mensuales:</label>
                <input type="number" id="monthly-expenses" value="2000" min="500" step="100">
            </div>
            <p>Tu meta: <strong id="savings-goal">$12,000</strong> (6 meses de gastos)</p>
        </div>
        
        <div class="savings-controls">
            <div class="form-group">
                <label for="monthly-income">Ingresos mensuales:</label>
                <input type="number" id="monthly-income" value="3000" min="1000" step="100">
            </div>
            
            <div class="form-group">
                <label for="savings-rate">Porcentaje a ahorrar:</label>
                <input type="range" id="savings-rate" min="5" max="50" value="15" class="slider">
                <span id="savings-rate-value">15%</span>
            </div>
            
            <div class="form-group">
                <label for="extra-savings">Ahorro extra este mes:</label>
                <input type="number" id="extra-savings" value="0" min="0" step="50">
            </div>
        </div>
        
        <button id="next-month-savings-btn" class="btn" style="margin-top: 20px;">Avanzar 1 mes</button>
        
        <div class="progress-container" style="margin-top: 30px;">
            <h4>Progreso hacia tu meta:</h4>
            <div class="progress-bar">
                <div class="progress" id="savings-progress" style="width: 0%;"></div>
            </div>
            <p id="savings-progress-text">$0 de $12,000 ahorrados (0%)</p>
        </div>
        
        <div class="chart-container" style="height: 300px; margin-top: 20px;">
            <canvas id="savingsChart"></canvas>
        </div>
        
        <div id="savings-tips" class="card" style="margin-top: 20px; display: none;">
            <h4>Consejos para aumentar tus ahorros:</h4>
            <ul id="tips-list">
                <!-- Los consejos se llenarán con JavaScript -->
            </ul>
        </div>
    </div>
</div>


<!--Juicio financiero-->
<div class="activity-card animate__animated animate__fadeInUp animate__delay-2s">
    <h3>⚖️ El Juicio Financiero</h3>
    <p>Actúa como juez en casos financieros reales y aprende sobre las consecuencias de cada decisión.</p>
    <div class="activity-container">
        <div class="courtroom" style="text-align: center;">
            <div class="card" style="margin-bottom: 20px;">
                <h4 id="case-title">Caso #1</h4>
                <p id="case-description">Cargando caso...</p>
            </div>
            
            <div class="judge-options" style="display: grid; grid-template-columns: 1fr; gap: 10px; margin-top: 20px;">
                <!-- Las opciones se llenarán con JavaScript -->
            </div>
            
            <div id="verdict-container" style="display: none; margin-top: 30px;">
                <div class="card">
                    <h4>🔨 Tu veredicto</h4>
                    <p id="verdict-result"></p>
                    <p id="verdict-explanation"></p>
                    <div class="progress-container" style="margin-top: 15px;">
                        <h4>Tu puntuación como juez:</h4>
                        <div class="progress-bar">
                            <div class="progress" id="judge-score" style="width: 100%; background-color: #2ecc71;"></div>
                        </div>
                        <p id="score-text">100/100</p>
                    </div>
                </div>
            </div>
            
            <button id="next-case-btn" class="btn" style="margin-top: 20px; width: 100%;">Siguiente Caso</button>
        </div>
    </div>
</div>



                        
                        
                        <!-- Simulador de Compras Inteligentes para Adultos -->
                        <div class="activity-card animate__animated animate__fadeInUp">
                            <h3>Simulador de Compras Inteligentes</h3>
                            <p>Optimiza tu presupuesto familiar comparando precios y tomando decisiones de compra estratégicas. Este simulador te ayuda a maximizar el valor de cada peso que gastas.</p>
                            
                            <div class="activity-container shopping-simulator">
                                <!-- Explicación del simulador -->
                                <div class="card" style="margin-bottom: 20px;">
                                    <h4>¿Qué aprenderás con este simulador?</h4>
                                    <p>Este ejercicio te ayudará a:</p>
                                    <ul>
                                        <li>Identificar patrones de gasto en el supermercado</li>
                                        <li>Planificar compras mensuales estratégicamente</li>
                                        <li>Tomar decisiones basadas en costo-beneficio</li>
                                        <li>Balancear calidad y precio en tus compras</li>
                                        <li>Entender el impacto de las compras impulsivas</li>
                                    </ul>
                                </div>
                                
                                <!-- Selector de situaciones para adultos -->
                                <div class="situation-selector">
                                    <h4>Elige una situación para practicar:</h4>
                                    <div class="grid" style="grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;">
                                        <div class="situation-card" data-situation="1" data-budget="2500">
                                            <h4>Situación 1: Despensa mensual familiar</h4>
                                            <p>Tienes $2,500 para la despensa mensual de tu familia. Planifica compras inteligentes. ¿Cómo distribuirás tu presupuesto?</p>
                                        </div>
                                        <div class="situation-card" data-situation="2" data-budget="5000">
                                            <h4>Situación 2: Suministros para 3 meses</h4>
                                            <p>Presupuesto de $5,000 para abastecer tu hogar con productos esenciales para 3 meses. ¿Qué características priorizarás?</p>
                                        </div>
                                        <div class="situation-card" data-situation="3" data-budget="8000">
                                            <h4>Situación 3: Evento especial</h4>
                                            <p>Organizas un evento familiar y necesitas comprar alimentos y suministros con $8,000.</p>
                                        </div>
                                        <div class="situation-card" data-situation="4" data-budget="12000">
                                            <h4>Situación 4: Restaurante o negocio de alimentos</h4>
                                            <p>Administras un pequeño negocio de alimentos con $12,000 para insumos mensuales.</p>
                                        </div>
                                        <div class="situation-card" data-situation="5" data-budget="30000">
                                            <h4>Situación 5: Banco de alimentos comunitario</h4>
                                            <p>Gestionas un banco de alimentos con $30,000 para ayudar a la comunidad.</p>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Presupuesto actual -->
                                <div id="current-budget-display-adult" class="card" style="margin: 20px 0; text-align: center; display: none;">
                                    <h4>Presupuesto disponible: <span id="current-budget-amount-adult">$0</span></h4>
                                    <p id="situation-description-adult"></p>
                                </div>
                                
                                <!-- Buscador de productos -->
                                <div class="form-group">
                                    <label for="product-search-adult">Buscar producto por ID (ej. 10001, 10002...):</label>
                                    <div class="product-search-container">
                                        <input type="number" id="product-search-adult" placeholder="Ingresa ID del producto">
                                        <button id="search-product-adult" class="btn btn-sm">Buscar</button>
                                    </div>
                                </div>
                                
                                <!-- Resultado de búsqueda -->
                                <div id="product-result-adult" class="product-result-container">
                                    <div class="product-details">
                                        <div class="product-image-container">
                                            <img id="product-image-adult" src="" alt="Imagen del producto" class="product-image">
                                        </div>
                                        <div class="product-info">
                                            <h4 id="product-name-adult"></h4>
                                            <p id="product-description-adult"></p>
                                            <p id="product-category-adult" style="color: #666;"></p>
                                            
                                            <div style="margin-top: 15px; display: flex; align-items: center;">
                                                <button id="add-to-cart-adult" class="btn btn-sm">Agregar al carrito</button>
                                                <input type="number" id="product-quantity-adult" value="1" min="1" style="width: 60px; margin-left: 10px;">
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- Tabla de comparación de precios -->
                                    <h5 style="margin-top: 20px; margin-bottom: 10px;">Precios en diferentes supermercados:</h5>
                                    <table class="price-comparison-table">
                                        <thead>
                                            <tr>
                                                <th>Supermercado</th>
                                                <th>Precio</th>
                                                <th>Promoción</th>
                                                <th>Precio por unidad</th>
                                            </tr>
                                        </thead>
                                        <tbody id="price-comparison-adult">
                                            <!-- Los precios se llenarán con JavaScript -->
                                        </tbody>
                                    </table>
                                </div>
                                
                                <!-- Carrito de compras -->
                                <div class="cart-container">
                                    <div class="cart-header">
                                        <h4>Tu carrito de compras</h4>
                                        <span id="cart-summary-adult"></span>
                                    </div>
                                    
                                    <div id="cart-empty-adult" class="cart-empty">
                                        <p>Tu carrito está vacío. Busca productos para agregarlos.</p>
                                    </div>
                                    
                                    <table id="cart-items-adult" class="cart-items-table" style="display: none;">
                                        <thead>
                                            <tr>
                                                <th>Producto</th>
                                                <th>Cantidad</th>
                                                <th>Precio unitario</th>
                                                <th>Total</th>
                                                <th>Acciones</th>
                                            </tr>
                                        </thead>
                                        <tbody id="cart-content-adult">
                                            <!-- Los productos del carrito se llenarán con JavaScript -->
                                        </tbody>
                                    </table>
                                    
                                    <!-- Totales del carrito -->
                                    <div id="cart-totals-adult" class="cart-totals" style="display: none;">
                                        <div class="cart-total-row">
                                            <span class="cart-total-label">Subtotal:</span>
                                            <span id="cart-subtotal-adult">$0.00</span>
                                        </div>
                                        <div class="cart-total-row">
                                            <span class="cart-total-label">Impuestos (16%):</span>
                                            <span id="cart-taxes-adult">$0.00</span>
                                        </div>
                                        <div class="cart-total-row">
                                            <span class="cart-total-label">Total:</span>
                                            <span id="cart-total-adult">$0.00</span>
                                        </div>
                                    </div>
                                    
                                    <!-- Acciones del carrito -->
                                    <div class="cart-actions">
                                        <button id="clear-cart-adult" class="btn" style="background: var(--danger);">Vaciar carrito</button>
                                        <button id="checkout-adult" class="btn">Realizar compra</button>
                                    </div>
                                </div>
                                
                                <!-- Resultado de la compra -->
                                <div id="purchase-result-adult" class="purchase-result">
                                    <h4>Resultado de tu compra:</h4>
                                    <p id="purchase-message-adult"></p>
                                    <p id="savings-message-adult" class="savings-highlight"></p>
                                    <p id="budget-analysis-adult"></p>
                                    <button id="new-purchase-adult" class="btn" style="margin-top: 10px;">Hacer nueva compra</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Sección Errores Comunes -->
<section id="errores-comunes" class="bg-light">
    <div class="container">
        <div class="section-title">
            <h2>Errores Financieros Comunes</h2>
            <p>Conoce los errores más frecuentes y cómo evitarlos</p>
        </div>
        
        <div class="grid">
            <div class="card">
                <h3>No tener un presupuesto</h3>
                <p>Gastar sin planificación es la forma más segura de quedarse sin dinero. La mayoría de las personas no sabe exactamente en qué gasta su dinero cada mes.</p>
                <div class="alerta-parpadeante" style="margin-top: 15px;">
                    Solución: Crea un presupuesto simple que registre todos tus ingresos y gastos.
                </div>
            </div>
            
            <div class="card">
                <h3>Compras impulsivas</h3>
                <p>Las compras emocionales pueden arruinar tus finanzas. Muchas compras "pequeñas" se acumulan en gastos significativos.</p>
                <div class="alerta-parpadeante" style="margin-top: 15px;">
                    Solución: Espera 24-48 horas antes de comprar algo no esencial.
                </div>
            </div>
            
            <div class="card">
                <h3>No ahorrar para emergencias</h3>
                <p>Sin un fondo de emergencia, cualquier imprevisto puede llevarte a endeudarte con intereses altos.</p>
                <div class="alerta-parpadeante" style="margin-top: 15px;">
                    Solución: Ahorra al menos el 10% de tus ingresos hasta tener 3-6 meses de gastos.
                </div>
            </div>
        </div>
        
        <div class="grid" style="margin-top: 30px;">
            <div class="card">
                <h3>Pagar el mínimo de tarjetas</h3>
                <p>Solo pagar el mínimo genera intereses exorbitantes y perpetúa la deuda.</p>
                <div class="alerta-parpadeante" style="margin-top: 15px;">
                    Solución: Siempre paga el total del saldo cada mes.
                </div>
            </div>
            
            <div class="card">
                <h3>Comparar precios</h3>
                <p>No comparar precios antes de comprar puede hacerte gastar mucho más de lo necesario.</p>
                <div class="alerta-parpadeante" style="margin-top: 15px;">
                    Solución: Usa comparadores de precios y espera ofertas en compras grandes.
                </div>
            </div>
            
            <div class="card">
                <h3>Posponer el ahorro</h3>
                <p>"Comenzaré a ahorrar cuando gane más" es una trampa común que retrasa la seguridad financiera.</p>
                <div class="alerta-parpadeante" style="margin-top: 15px;">
                    Solución: Ahorra algo, aunque sea pequeño, desde hoy. El interés compuesto necesita tiempo.
                </div>
            </div>
        </div>
    </div>
</section>

    <!-- Sección de Testimonios -->
    <section id="testimonios" class="bg-light">
        <div class="container">
            <div class="section-title">
                <h2>Lo que dicen nuestros usuarios</h2>
                <p>Historias reales de personas que han transformado sus finanzas</p>
            </div>
            
            <div class="testimonials-grid">
                <div class="testimonial-card">
                    <div class="testimonial-content">
                        <p>"Gracias a EduFinanza aprendí a manejar mi presupuesto y en 6 meses logré ahorrar para el enganche de mi auto."</p>
                    </div>
                    <div class="testimonial-author">
                        <img src="/images/miss-mariana.jpg" alt="Ana Martínez">
                        <div>
                            <h4>Mtra. Mariana</h4>
                            <p>Docente</p>
                        </div>
                    </div>
                </div>
                
                <div class="testimonial-card">
                    <div class="testimonial-content">
                        <p>"El simulador de inversiones me ayudó a entender cómo funciona el interés compuesto. Ahora invierto con más confianza."</p>
                    </div>
                    <div class="testimonial-author">
                        <img src="/images/mtro-omar.jpg" alt="Carlos Rodríguez">
                        <div>
                            <h4>Mtro. Omar Páramo</h4>
                            <p>Docente</p>
                        </div>
                    </div>
                </div>
                
                <div class="testimonial-card">
                    <div class="testimonial-content">
                        <p>"Con esta página web ahora sé como organizar mi dinero, controlar mis gastos y ahora sé cuando comprar papitas y cuando comprarme el nintendo switch 2"</p>
                    </div>
                    <div class="testimonial-author">
                        <img src="images/Elías.jpg" alt="María González">
                        <div>
                            <h4>Elías Hernandez</h4>
                            <p>Estudiante</p>
                        </div>
                    </div>
                </div>

                <div class="testimonials-grid">
                <div class="testimonial-card">
                    <div class="testimonial-content">
                        <p>"Es increible EduFinanza, gracias a la página se controlar mis gastos."</p>
                    </div>
                    <div class="testimonial-author">
                        <img src="/images/none-profile-image.webp" alt="Ana Martínez">
                        <div>
                            <h4>Manuel</h4>
                            <p>Padre</p>
                        </div>
                    </div>
                </div>
            </div>

                <div class="testimonials-grid">
                <div class="testimonial-card">
                    <div class="testimonial-content">
                        <p>"Increible pagina, gracias a EduFinanza e mejoraro la menera en la que manejo el dinero."</p>
                    </div>
                    <div class="testimonial-author">
                        <img src="/images/madi.jpg" alt="Ana Martínez">
                        <div>
                            <h4>Madison</h4>
                            <p>Estudiante</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="testimonials-grid">
                <div class="testimonial-card">
                    <div class="testimonial-content">
                        <p>"EduFinanza es increible."</p>
                    </div>
                    <div class="testimonial-author">
                        <img src="/images/none-profile-image.webp" alt="Ana Martínez">
                        <div>
                            <h4>Juan</h4>
                            <p>Docente y Padre de familia</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Sección de Comentarios -->
<section class="comments-section" id="comentarios">
    <div class="container">
        <div class="comment-form-container card">
            <h1 class="green">✅ Esta sección sí es funcional ✅</h1>
            <h3 class="section-title">Se parte de esta página y dejanos tu comentario</h3>
            
            <div class="form-group">
                <label for="name">Nombre:</label>
                <input type="text" id="name" class="form-control" required>
            </div>
            
            <div class="form-group">
                <label for="comment">Comentario:</label>
                <textarea id="comment" class="form-control" rows="4" required></textarea>
            </div>
            
            <div class="form-group">
                <label>Calificación:</label>
                <div class="star-rating">
                    <input type="radio" id="star5" name="rating" value="5">
                    <label for="star5"><i class="fas fa-star"></i></label>
                    
                    <input type="radio" id="star4" name="rating" value="4">
                    <label for="star4"><i class="fas fa-star"></i></label>
                    
                    <input type="radio" id="star3" name="rating" value="3">
                    <label for="star3"><i class="fas fa-star"></i></label>
                    
                    <input type="radio" id="star2" name="rating" value="2">
                    <label for="star2"><i class="fas fa-star"></i></label>
                    
                    <input type="radio" id="star1" name="rating" value="1">
                    <label for="star1"><i class="fas fa-star"></i></label>
                </div>
            </div>
            
            <button id="submit-comment" class="btn">Enviar Comentario</button>
        </div>
        
        <h2 class="section-title">Comentarios</h2>
        
        <div id="loading-comments" style="text-align: center; padding: 20px; display: none;">
            <i class="fas fa-spinner fa-spin"></i> Cargando comentarios...
        </div>
        
        <div class="comments-container" id="comments-container">
            <!-- Las columnas de comentarios se generarán aquí -->
        </div>
        
        <div class="pagination-dots" id="pagination-dots">
            <!-- Los puntos de paginación se generarán aquí -->
        </div>
    </div>
</section>

    <!-- Sección de Contacto -->
    <section id="contacto" class="gradient-bg" style="background: var(--gradient); color: white;">
        <div class="container">
            <div class="section-title">
                <h2 class="animate__animated animate__fadeIn">Contacto</h2>
                <p class="animate__animated animate__fadeIn animate__delay-1s" style="color: white;">¿Tienes preguntas o sugerencias? Escríbenos</p>
                <p class="alerta-parpadeante">⚠️ESTE ES SOLO UN SIMULADOR DE PREGUNTAS A PROFECIONALES, NO ES FUNCIONAL⚠️</p>
            </div>
            <div class="grid" style="grid-template-columns: 1fr 1fr;">
                <div class="animate__animated animate__fadeInLeft">
                    <h3 style="margin-bottom: 20px;">Información de Contacto</h3>
                    <p style="margin-bottom: 15px;"><strong>Email:</strong> info@edufinanza.com</p>
                    <p style="margin-bottom: 15px;"><strong>Teléfono:</strong> +1 (555) 123-4567</p>
                    <p style="margin-bottom: 15px;"><strong>Dirección:</strong> Calle Financiera 123, Ciudad Económica</p>
                </div>
                <div class="animate__animated animate__fadeInRight">
                    <form>
                        <div style="margin-bottom: 15px;">
                            <input type="text" placeholder="Nombre" style="width: 100%; padding: 12px; border-radius: 5px; border: none;">
                        </div>
                        <div style="margin-bottom: 15px;">
                            <input type="email" placeholder="Email" style="width: 100%; padding: 12px; border-radius: 5px; border: none;">
                        </div>
                        <div style="margin-bottom: 15px;">
                            <textarea placeholder="Mensaje" style="width: 100%; padding: 12px; border-radius: 5px; border: none; height: 100px;"></textarea>
                        </div>
                        <button type="submit" class="btn" style="background: var(--gradient-accent);">Enviar Mensaje</button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- Pie de página -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>EduFinanza</h3>
                    <p>Educación económica para todos los niveles. Aprende, practica y domina tus finanzas personales.</p>
                </div>
                <div class="footer-column">
                    <h3>Enlaces Rápidos</h3>
                    <ul>
                        <li><a href="#que-es">¿Qué es?</a></li>
                        <li><a href="#como-se-aplica">¿Cómo se aplica?</a></li>
                        <li><a href="#actividades">Actividades</a></li>
                        <li><a href="#contacto">Contacto</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Recursos</h3>
                    <ul>
                        <li><a href="#">Blog</a></li>
                        <li><a href="#">Guías Descargables</a></li>
                        <li><a href="#">Calculadoras</a></li>
                        <li><a href="#">Glosario</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Síguenos</h3>
                    <ul>
                        <li><a href="#">Facebook</a></li>
                        <li><a href="#">Twitter</a></li>
                        <li><a href="#">Instagram</a></li>
                        <li><a href="#">YouTube</a></li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2025 EduFinanza. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>

    <!-- Scripts JavaScript -->
    <script>
        // Preloader - Se oculta cuando la página termina de cargar
        window.addEventListener('load', function() {
            const preloader = document.querySelector('.preloader');
            preloader.classList.add('hidden');
            
            // Inicializar animaciones y funcionalidades
            initAnimations();
            initTabSystem();
            initBudgetCalculator();
            initDecisionGame();
            initFinancialQuiz();
            initCompoundInterestCalculator();
            initSavingChallenge();
            initFinancialGoals();
            initShoppingSimulator();
            
            // Mostrar contenido una vez que todo esté listo
            document.body.style.visibility = 'visible';
        });

        // Mostrar el cuerpo solo después de que el preloader esté listo
        document.body.style.visibility = 'hidden';

        // Funciones de inicialización
        function initAnimations() {
            // Animación al hacer scroll
            const animateOnScroll = () => {
                const elements = document.querySelectorAll('.card, .activity-card, .section-title h2, .section-title p');
                
                elements.forEach(element => {
                    const elementPosition = element.getBoundingClientRect().top;
                    const screenPosition = window.innerHeight / 1.3;
                    
                    if (elementPosition < screenPosition) {
                        element.classList.add('animate__animated', 'animate__fadeInUp');
                    }
                });
            };
            
            window.addEventListener('scroll', animateOnScroll);
            window.addEventListener('load', animateOnScroll);
            
            // Smooth scrolling para los enlaces del menú
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    document.querySelector(this.getAttribute('href')).scrollIntoView({
                        behavior: 'smooth'
                    });
                });
            });
        }

        // Sistema de pestañas
        function initTabSystem() {
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    const tabId = btn.getAttribute('data-tab');
                    
                    // Remover clase active de todos los botones y contenidos
                    document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
                    document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                    
                    // Agregar clase active al botón y contenido clickeado
                    btn.classList.add('active');
                    document.getElementById(tabId).classList.add('active');
                });
            });
        }

        // 1. Simulador de Presupuesto Mensual
        function initBudgetCalculator() {
            const calculateBudget = () => {
                const income = parseFloat(document.getElementById('income').value) || 0;
                const rent = parseFloat(document.getElementById('rent').value) || 0;
                const food = parseFloat(document.getElementById('food').value) || 0;
                const transport = parseFloat(document.getElementById('transport').value) || 0;
                const entertainment = parseFloat(document.getElementById('entertainment').value) || 0;
                const other = parseFloat(document.getElementById('other').value) || 0;
                
                const totalExpenses = rent + food + transport + entertainment + other;
                const balance = income - totalExpenses;
                
                const resultText = document.getElementById('result-text');
                const adviceText = document.getElementById('advice-text');
                const budgetResult = document.getElementById('budget-result');
                
                if (balance > 0) {
                    resultText.textContent = `Tienes un superávit de $${balance.toFixed(2)}`;
                    resultText.className = 'positive';
                    adviceText.textContent = '¡Buen trabajo! Considera invertir parte de tus ahorros.';
                } else if (balance < 0) {
                    resultText.textContent = `Tienes un déficit de $${Math.abs(balance).toFixed(2)}`;
                    resultText.className = 'negative';
                    adviceText.textContent = 'Revisa tus gastos, especialmente en entretenimiento y otros.';
                } else {
                    resultText.textContent = 'Estás en equilibrio (ingresos = gastos)';
                    resultText.className = '';
                    adviceText.textContent = 'Intenta ahorrar algo cada mes para imprevistos.';
                }
                
                budgetResult.style.display = 'block';
                
                // Actualizar gráfico
                updateBudgetChart(income, rent, food, transport, entertainment, other, balance);
            };
            
            let budgetChart;
            const updateBudgetChart = (income, rent, food, transport, entertainment, other, balance) => {
                const ctx = document.getElementById('budgetChart').getContext('2d');
                
                if (budgetChart) {
                    budgetChart.destroy();
                }
                
                budgetChart = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: ['Ingresos', 'Alquiler', 'Comida', 'Transporte', 'Entretenimiento', 'Otros', 'Balance'],
                        datasets: [{
                            label: 'Cantidad ($)',
                            data: [income, rent, food, transport, entertainment, other, balance],
                            backgroundColor: [
                                'rgba(54, 162, 235, 0.7)',
                                'rgba(255, 99, 132, 0.7)',
                                'rgba(255, 159, 64, 0.7)',
                                'rgba(75, 192, 192, 0.7)',
                                'rgba(153, 102, 255, 0.7)',
                                'rgba(201, 203, 207, 0.7)',
                                balance > 0 ? 'rgba(46, 204, 113, 0.7)' : 'rgba(231, 76, 60, 0.7)'
                            ],
                            borderColor: [
                                'rgba(54, 162, 235, 1)',
                                'rgba(255, 99, 132, 1)',
                                'rgba(255, 159, 64, 1)',
                                'rgba(75, 192, 192, 1)',
                                'rgba(153, 102, 255, 1)',
                                'rgba(201, 203, 207, 1)',
                                balance > 0 ? 'rgba(46, 204, 113, 1)' : 'rgba(231, 76, 60, 1)'
                            ],
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            y: {
                                beginAtZero: true
                            }
                        }
                    }
                });
            };
            
            document.getElementById('calculate-budget').addEventListener('click', calculateBudget);
            
            // Calcular presupuesto al cargar la página
            calculateBudget();
        }

        // 2. Juego de Toma de Decisiones Financieras
        function initDecisionGame() {
    let currentBalance = 500;
    const scenarios = [
        {
            text: "Tienes $500 ahorrados. Tu smartphone actual funciona pero está un poco lento. ¿Qué haces?",
            options: [
                { 
                    text: "Comprar nuevo smartphone ($400)", 
                    value: -400, 
                    message: "Tendrás un teléfono nuevo pero poco dinero para emergencias." 
                },
                { 
                    text: "Reparar el actual ($100) y ahorrar el resto", 
                    value: -100, 
                    message: "Buena decisión. Ahorraste $400 para otras necesidades." 
                },
                { 
                    text: "Seguir con el mismo y ahorrar todo", 
                    value: 0, 
                    message: "Excelente. Tus $500 siguen creciendo para metas más importantes." 
                }
            ]
        },
        {
            text: "Recibes un bono de $200 en el trabajo. ¿Cómo lo usas?",
            options: [
                { 
                    text: "Comprar ropa nueva ($200)", 
                    value: 0, 
                    message: "Ahora tienes ropa nueva pero no aumentaron tus ahorros." 
                },
                { 
                    text: "Ahorrar la mitad y gastar la otra mitad", 
                    value: 100, 
                    message: "Balance inteligente entre disfrutar ahora y planificar." 
                },
                { 
                    text: "Invertir todo en un fondo de bajo riesgo", 
                    value: 200, 
                    message: "A largo plazo, esta podría ser la mejor decisión financiera." 
                }
            ]
        },
        {
            text: "Un amigo te pide prestado $300 para reparar su auto. ¿Qué haces?",
            options: [
                { 
                    text: "Prestarle todo", 
                    value: -300, 
                    message: "Arriesgas tu dinero. ¿Confías en que te lo devolverá?" 
                },
                { 
                    text: "Prestarle $100", 
                    value: -100, 
                    message: "Menor riesgo pero aún podrías perder ese dinero." 
                },
                { 
                    text: "No prestar pero ofrecer ayuda de otra forma", 
                    value: 0, 
                    message: "Mantienes tus ahorros y ayudas de otra manera." 
                }
            ]
        }
    ];

    let currentScenario = 0;

    const updateDecisionGame = () => {
        if (currentScenario >= scenarios.length) {
            document.getElementById('decision-scenario').textContent = "¡Juego completado!";
            document.getElementById('game-result').innerHTML = `
                <h4>Resultado Final</h4>
                <p>Saldo final: $${currentBalance}</p>
                <p>${currentBalance > 500 ? "¡Excelente manejo de tus finanzas!" : 
                  currentBalance > 300 ? "Buen trabajo pero podrías mejorar." : 
                  "Necesitas repensar tus decisiones financieras."}</p>
                <button id="restart-game" class="btn">Jugar de Nuevo</button>
            `;
            document.getElementById('game-result').style.display = 'block';
            return;
        }

        const scenario = scenarios[currentScenario];
        document.getElementById('decision-scenario').textContent = scenario.text;

        const options = document.querySelectorAll('.decision-btn');
        options.forEach((option, index) => {
            if (scenario.options[index]) {
                option.textContent = scenario.options[index].text;
                option.setAttribute('data-value', scenario.options[index].value);
                option.setAttribute('data-message', scenario.options[index].message);
            }
        });
    };

    document.querySelectorAll('.decision-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            const value = parseFloat(this.getAttribute('data-value'));
            currentBalance += value;
            document.getElementById('result-message').textContent = this.getAttribute('data-message');
            document.getElementById('current-balance').textContent = currentBalance;
            document.getElementById('game-result').style.display = 'block';
        });
    });

    document.getElementById('next-scenario').addEventListener('click', function() {
        currentScenario++;
        updateDecisionGame();
        document.getElementById('game-result').style.display = 'none';
    });

    // Inicializar juego
    updateDecisionGame();
}

        // 3. Quiz de Mitos Financieros
        function initFinancialQuiz() {
            document.querySelectorAll('.quiz-option').forEach(option => {
                option.addEventListener('click', function() {
                    const isCorrect = this.getAttribute('data-correct') === 'true';
                    const feedback = this.parentElement.querySelector('.quiz-feedback');
                    
                    // Mostrar retroalimentación
                    feedback.style.display = 'block';
                    
                    // Marcar respuesta correcta/incorrecta
                    if (isCorrect) {
                        this.classList.add('correct');
                    } else {
                        this.classList.add('incorrect');
                        // Mostrar también la opción correcta
                        const correctOption = this.parentElement.querySelector('.quiz-option[data-correct="true"]');
                        correctOption.classList.add('correct');
                    }
                    
                    // Deshabilitar otras opciones
                    this.parentElement.querySelectorAll('.quiz-option').forEach(opt => {
                        opt.style.pointerEvents = 'none';
                    });
                });
            });
        }

        // 4. Calculadora de Interés Compuesto
        function initCompoundInterestCalculator() {
            let interestChart;
            const calculateInterest = () => {
                const initialAmount = parseFloat(document.getElementById('initial-amount').value) || 0;
                const monthlyContribution = parseFloat(document.getElementById('monthly-contribution').value) || 0;
                const annualRate = parseFloat(document.getElementById('interest-rate').value) / 100 || 0;
                const years = parseFloat(document.getElementById('years').value) || 0;
                
                const monthlyRate = annualRate / 12;
                const months = years * 12;
                
                let total = initialAmount;
                let totalContributions = initialAmount;
                let dataWithInterest = [initialAmount];
                let dataWithoutInterest = [initialAmount];
                
                for (let i = 1; i <= months; i++) {
                    total = (total + monthlyContribution) * (1 + monthlyRate);
                    totalContributions += monthlyContribution;
                    dataWithInterest.push(total);
                    dataWithoutInterest.push(dataWithoutInterest[i-1] + monthlyContribution);
                }
                
                const interestEarned = total - totalContributions;
                
                document.getElementById('final-amount').textContent = `$${total.toFixed(2)}`;
                document.getElementById('total-contributed').textContent = `$${totalContributions.toFixed(2)}`;
                document.getElementById('interest-earned').textContent = `$${interestEarned.toFixed(2)}`;
                
                // Actualizar gráfico
                updateInterestChart(dataWithInterest, dataWithoutInterest, years);
            };
            
            const updateInterestChart = (withInterest, withoutInterest, years) => {
                const ctx = document.getElementById('interestChart').getContext('2d');
                const labels = [];
                
                for (let i = 0; i <= years; i++) {
                    labels.push(`Año ${i}`);
                }
                
                if (interestChart) {
                    interestChart.destroy();
                }
                
                interestChart = new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: labels,
                        datasets: [
                            {
                                label: 'Con Interés Compuesto',
                                data: withInterest.filter((_, index) => index % 12 === 0),
                                borderColor: 'rgba(75, 192, 192, 1)',
                                backgroundColor: 'rgba(75, 192, 192, 0.2)',
                                tension: 0.1,
                                fill: true
                            },
                            {
                                label: 'Sin Interés',
                                data: withoutInterest.filter((_, index) => index % 12 === 0),
                                borderColor: 'rgba(255, 99, 132, 1)',
                                backgroundColor: 'rgba(255, 99, 132, 0.2)',
                                tension: 0.1,
                                fill: true
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            y: {
                                beginAtZero: true
                            }
                        }
                    }
                });
            };
            
            document.getElementById('calculate-interest').addEventListener('click', calculateInterest);
            
            // Calcular interés al cargar la página
            calculateInterest();
        }

        // 5. Reto de Ahorro de 30 Días
        function initSavingChallenge() {
            let currentDay = 1;
            let savedAmount = 0;
            const goalAmount = parseFloat(document.getElementById('saving-goal').value);
            const challenges = [
                "Hoy evita gastar en bebidas azucaradas y guarda ese dinero.",
                "Prepara tu comida en casa en lugar de comprar fuera.",
                "Revisa tus suscripciones y cancela una que no uses mucho.",
                "Vende algo que no necesites y guarda el dinero.",
                "Hoy no compres nada que no sea esencial.",
                "Usa cupones o descuentos para ahorrar en tus compras.",
                "Compara precios antes de comprar algo importante.",
                "Haz una lista de compras y apégate a ella.",
                "Usa transporte público o comparte auto en lugar de conducir solo.",
                "Repara algo en lugar de comprar nuevo.",
                "Investiga sobre inversiones básicas para hacer crecer tus ahorros.",
                "Hoy guarda el cambio que recibas en tus compras.",
                "Evita compras impulsivas por 24 horas.",
                "Aprende a cocinar una nueva receta económica.",
                "Revisa tu consumo de energía y apaga lo que no uses.",
                "Haz un presupuesto para la próxima semana.",
                "Investiga sobre cuentas de ahorro con mejores intereses.",
                "Hoy guarda $5 adicionales a lo planeado.",
                "Organiza un intercambio de ropa con amigos en lugar de comprar.",
                "Aprende sobre el interés compuesto y cómo beneficia tus ahorros.",
                "Hoy no uses tarjeta de crédito, solo efectivo.",
                "Planea tus comidas para la semana para evitar gastos extra.",
                "Busca formas gratuitas de entretenimiento hoy.",
                "Haz una llamada para negociar una tasa mejor en tus servicios.",
                "Aprende a diferenciar entre deseos y necesidades.",
                "Hoy guarda el 10% de cualquier ingreso que recibas.",
                "Investiga sobre fondos de emergencia y su importancia.",
                "Haz una lista de tus deudas y planea cómo reducirlas.",
                "Habla con un amigo sobre metas financieras para motivarse.",
                "Revisa tu progreso y celebra tus logros de ahorro."
            ];
            
            document.getElementById('start-challenge').addEventListener('click', () => {
                const goal = parseFloat(document.getElementById('saving-goal').value);
                document.getElementById('goal-amount').textContent = goal;
                document.getElementById('challenge-day').classList.add('active');
                document.getElementById('daily-challenge').textContent = challenges[0];
                document.getElementById('current-day').textContent = 1;
                document.getElementById('saved-amount').textContent = 0;
                document.getElementById('saving-progress').style.width = '0%';
                
                // Reset badges
                document.querySelectorAll('.badge-icon').forEach(badge => {
                    badge.classList.remove('earned');
                });
                
                currentDay = 1;
                savedAmount = 0;
            });
            
            document.getElementById('complete-challenge').addEventListener('click', () => {
                // Calcular ahorro del día (ejemplo: 3.33% del objetivo por día)
                const dailySaving = parseFloat(document.getElementById('saving-goal').value) * 0.0333;
                savedAmount += dailySaving;
                
                // Actualizar UI
                document.getElementById('saved-amount').textContent = savedAmount.toFixed(2);
                const progress = (savedAmount / parseFloat(document.getElementById('saving-goal').value)) * 100;
                document.getElementById('saving-progress').style.width = `${progress}%`;
                
                // Verificar badges
                if (currentDay === 7) {
                    document.getElementById('badge-7').classList.add('earned');
                } else if (currentDay === 15) {
                    document.getElementById('badge-15').classList.add('earned');
                }
                
                // Pasar al siguiente día o finalizar
                if (currentDay < 30) {
                    currentDay++;
                    document.getElementById('current-day').textContent = currentDay;
                    document.getElementById('daily-challenge').textContent = challenges[currentDay - 1];
                    
                    if (currentDay === 30) {
                        document.getElementById('badge-30').classList.add('earned');
                    }
                } else {
                    document.getElementById('challenge-day').classList.remove('active');
                    alert('¡Felicidades! Has completado el reto de 30 días.');
                }
            });
        }

        // 6. Mapa de Metas Financieras
        function initFinancialGoals() {
            let selectedGoals = [];
            
            // Permitir arrastrar metas
            document.querySelectorAll('.goal-item').forEach(item => {
                item.addEventListener('dragstart', function(e) {
                    e.dataTransfer.setData('text/plain', this.getAttribute('data-goal'));
                });
            });
            
            // Soltar en el área de metas seleccionadas
            document.getElementById('selected-goals').addEventListener('dragover', function(e) {
                e.preventDefault();
                this.style.backgroundColor = 'rgba(0,0,0,0.1)';
            });
            
            document.getElementById('selected-goals').addEventListener('dragleave', function() {
                this.style.backgroundColor = '';
            });
            
            document.getElementById('selected-goals').addEventListener('drop', function(e) {
                e.preventDefault();
                this.style.backgroundColor = '';
                
                const goal = e.dataTransfer.getData('text/plain');
                const goalItem = document.querySelector(`.goal-item[data-goal="${goal}"]`);
                const cost = parseFloat(goalItem.getAttribute('data-cost'));
                
                // Verificar si ya fue agregada
                if (!selectedGoals.some(g => g.name === goal)) {
                    selectedGoals.push({
                        name: goal,
                        cost: cost,
                        emoji: goalItem.textContent.trim().charAt(0)
                    });
                    
                    updateSelectedGoals();
                }
            });
            
            const updateSelectedGoals = () => {
                const container = document.getElementById('selected-goals');
                
                if (selectedGoals.length === 0) {
                    container.innerHTML = '<p>Arrastra tus metas aquí</p>';
                    return;
                }
                
                container.innerHTML = '';
                selectedGoals.forEach(goal => {
                    const div = document.createElement('div');
                    div.className = 'goal-item';
                    div.textContent = `${goal.emoji} ${goal.name.charAt(0).toUpperCase() + goal.name.slice(1)} ($${goal.cost.toLocaleString()})`;
                    div.style.marginBottom = '10px';
                    div.style.cursor = 'default';
                    
                    const removeBtn = document.createElement('span');
                    removeBtn.textContent = ' ❌';
                    removeBtn.style.cursor = 'pointer';
                    removeBtn.addEventListener('click', () => {
                        selectedGoals = selectedGoals.filter(g => g.name !== goal.name);
                        updateSelectedGoals();
                    });
                    
                    div.appendChild(removeBtn);
                    container.appendChild(div);
                });
            };
            
            // Calcular ahorro mensual necesario
            document.getElementById('calculate-goal').addEventListener('click', () => {
                const years = parseFloat(document.getElementById('goal-years').value);
                const totalCost = selectedGoals.reduce((sum, goal) => sum + goal.cost, 0);
                const monthlySaving = totalCost / (years * 12);
                
                document.getElementById('monthly-saving').textContent = `$${monthlySaving.toFixed(2)}`;
            });
        }

        // 7. Simulador de Compras Inteligentes (compartido entre adolescentes y adultos)
        function initShoppingSimulator() {
            // Base de datos de productos simulada (IDs de 5 dígitos)
            let productsDatabase = {};
fetch('products.json')
    .then(response => response.json())
    .then(data => {
        productsDatabase = data.reduce((acc, product) => {
            acc[product.id] = {
                name: product.name,
                description: product.description,
                category: product.category,
                image: product.image,
                prices: product.prices,
                promotions: product.promocion,
                unit: "unidad", // Asumimos unidad por defecto
                taxable: true // Asumimos que todos los productos son gravables
            };
            return acc;
        }, {});
    })
    .catch(error => console.error('Error loading products:', error));

            // Variables globales para los carritos
            let cart = [];
            let adultCart = [];
            let currentBudget = 0;
            let adultCurrentBudget = 0;
            let currentSituation = null;
            let adultCurrentSituation = null;

            // Situaciones para adolescentes
            const teenSituations = {
    1: {
        title: "Compras semanales básicas",
        description: "Tienes $500 para comprar alimentos básicos para la semana. Prioriza productos esenciales como carnes, frutas y verduras.",
        budget: 500,
        tips: [
            "Empieza con proteínas como pechuga de pollo o carne molida",
            "Incluye frutas y verduras de temporada como plátano o zanahoria",
            "No olvides productos de limpieza básicos como detergente"
        ],
        recommendedProducts: [33197, 11598, 59246, 85491, 49221]
    },
    2: {
        title: "Suministros para el hogar",
        description: "Necesitas abastecer tu hogar con productos de limpieza y cuidado personal con $300.",
        budget: 300,
        tips: [
            "Prioriza detergente, papel higiénico y shampoo",
            "Busca promociones como '2x$80' en crema dental",
            "Considera marcas genéricas para ahorrar"
        ],
        recommendedProducts: [30826, 20219, 48701, 48200, 34910]
    },
    3: {
        title: "Preparación de comidas",
        description: "Con $200, compra ingredientes para preparar comidas caseras saludables.",
        budget: 200,
        tips: [
            "Compra arroz, pastas y condimentos básicos",
            "Incluye alguna proteína económica como pierna de cerdo",
            "Aprovecha promociones en productos no perecederos"
        ],
        recommendedProducts: [10487, 12967, 27104, 98351, 90750]
    },
    4: {
        title: "Fiesta con amigos",
        description: "Organizas una reunión con $400. Compra snacks y bebidas para compartir.",
        budget: 400,
        tips: [
            "Incluye aguacate para guacamole y galletas",
            "Considera mayonesa y catsup para acompañamientos",
            "No olvides bebidas y hielos"
        ],
        recommendedProducts: [55693, 30398, 11590, 99453, 85491]
    },
    5: {
        title: "Compra inteligente de carnes",
        description: "Con $600, compra diferentes tipos de carne para el mes.",
        budget: 600,
        tips: [
            "Compara precios entre milanesas, pechuga y carne molida",
            "Aprovecha promociones como '3x$200' en pierna de cerdo",
            "Considera comprar porciones más grandes para ahorrar"
        ],
        recommendedProducts: [33197, 48922, 99453, 10487, 21953]
    }
};

            // Situaciones para adultos
            const adultSituations = {
    1: {
        title: "Despensa mensual familiar",
        description: "Tienes $2,500 para la despensa mensual de tu familia. Planifica compras inteligentes.",
        budget: 2500,
        tips: [
            "Compra productos no perecederos al por mayor",
            "Aprovecha promociones en productos de limpieza",
            "Incluye variedad de carnes, frutas y verduras"
        ],
        recommendedProducts: [33197, 10487, 30826, 12967, 85491]
    },
    2: {
        title: "Suministros para 3 meses",
        description: "Presupuesto de $5,000 para abastecer tu hogar con productos esenciales para 3 meses.",
        budget: 5000,
        tips: [
            "Prioriza productos con larga vida útil",
            "Compra paquetes grandes de papel higiénico y detergente",
            "Incluye artículos de cuidado personal en cantidad"
        ],
        recommendedProducts: [18724, 30826, 48219, 48701, 59924]
    },
    3: {
        title: "Evento especial",
        description: "Organizas un evento familiar y necesitas comprar alimentos y suministros con $8,000.",
        budget: 8000,
        tips: [
            "Calcula cantidades según el número de invitados",
            "Compra carnes y acompañamientos en cantidad",
            "No olvides productos de limpieza para después del evento"
        ],
        recommendedProducts: [33197, 48922, 59246, 11590, 30826]
    },
    4: {
        title: "Restaurante o negocio de alimentos",
        description: "Administras un pequeño negocio de alimentos con $12,000 para insumos mensuales.",
        budget: 12000,
        tips: [
            "Compra ingredientes básicos en grandes cantidades",
            "Establece relaciones con proveedores para mejores precios",
            "Mantén un balance entre calidad y costo"
        ],
    recommendedProducts: [18724, 33197, 10487, 12967, 85491]
    },
    5: {
        title: "Banco de alimentos comunitario",
        description: "Gestionas un banco de alimentos con $30,000 para ayudar a la comunidad.",
        budget: 30000,
        tips: [
            "Prioriza alimentos no perecederos y básicos",
            "Negocia con mayoristas para descuentos por volumen",
            "Considera necesidades nutricionales básicas"
        ],
        recommendedProducts: [18724, 30826, 12967, 85491, 59246]
    }
};

function showRecommendedProducts(situationId, isAdult = false) {
  const situation = isAdult ? adultSituations[situationId] : teenSituations[situationId];
  const containerId = isAdult ? 'product-search-adult' : 'product-search';
  const searchBtnId = isAdult ? 'search-product-adult' : 'search-product';

  // Eliminar recomendaciones anteriores si existen
  const existingRec = document.querySelector(`.recommended-products[data-for="${containerId}"]`);
  if (existingRec) existingRec.remove();

  // Crear contenedor de botones recomendados
  const recommendedDiv = document.createElement('div');
  recommendedDiv.className = 'recommended-products';
  recommendedDiv.setAttribute('data-for', containerId);
  
  // Generar botones para cada ID recomendado
  recommendedDiv.innerHTML = `
    <h5>Productos recomendados:</h5>
    <div class="recommended-buttons">
      ${situation.recommendedProducts.map(id => 
        `<button class="rec-btn" data-id="${id}">${id}</button>`
      ).join('')}
    </div>
  `;

  // Insertar después del input de búsqueda
  const searchContainer = document.getElementById(containerId).parentNode;
  searchContainer.appendChild(recommendedDiv);

  // Asignar evento de clic a los botones
  document.querySelectorAll(`.recommended-products[data-for="${containerId}"] .rec-btn`).forEach(btn => {
    btn.addEventListener('click', function() {
      const productId = this.getAttribute('data-id');
      document.getElementById(containerId).value = productId;
      document.getElementById(searchBtnId).click(); // Dispara la búsqueda
    });
  });
}

            // Seleccionar situación para adolescentes
            document.querySelectorAll('#adolescentes .situation-card').forEach(card => {
                card.addEventListener('click', function() {
                    
                    // Remover selección previa
                    // Para adolescentes
document.querySelectorAll('#adolescentes .situation-card').forEach(card => {
  card.addEventListener('click', function() {
    const situationId = this.getAttribute('data-situation');
    showRecommendedProducts(situationId); // Mostrar IDs recomendados
  });
});
                    
                    // Marcar como seleccionada
                    this.classList.add('selected');
                    
                    const situationId = this.getAttribute('data-situation');
                    currentSituation = situationId;
                    const situation = teenSituations[situationId];
                    
                    // Actualizar presupuesto
                    currentBudget = parseFloat(this.getAttribute('data-budget'));
                    document.getElementById('current-budget-amount').textContent = `$${currentBudget.toFixed(2)}`;
                    document.getElementById('situation-description').textContent = situation.description;
                    
                    // Mostrar consejos
                    const tipsList = situation.tips.map(tip => `<li>${tip}</li>`).join('');
                    document.getElementById('situation-description').innerHTML += 
                        `<div style="margin-top: 15px;"><strong>Consejos:</strong><ul style="margin-top: 5px;">${tipsList}</ul></div>`;
                    
                    // Mostrar el panel de presupuesto
                    document.getElementById('current-budget-display').style.display = 'block';
                    
                    // Reiniciar carrito
                    cart = [];
                    updateCart();
                    
                    // Ocultar resultados de compra previa
                    document.getElementById('purchase-result').style.display = 'none';

                    showRecommendedProducts(situationId);
                });
            });

            // Seleccionar situación para adultos
            document.querySelectorAll('#adultos .situation-card').forEach(card => {
                card.addEventListener('click', function() {
                    // Remover selección previa
                    document.querySelectorAll('#adultos .situation-card').forEach(card => {
  card.addEventListener('click', function() {
    const situationId = this.getAttribute('data-situation');
    showRecommendedProducts(situationId, true); // Mostrar IDs recomendados (versión adultos)
  });
});
                    
                    // Marcar como seleccionada
                    this.classList.add('selected');
                    
                    const situationId = this.getAttribute('data-situation');
                    adultCurrentSituation = situationId;
                    const situation = adultSituations[situationId];
                    
                    // Actualizar presupuesto
                    adultCurrentBudget = parseFloat(this.getAttribute('data-budget'));
                    document.getElementById('current-budget-amount-adult').textContent = `$${adultCurrentBudget.toFixed(2)}`;
                    document.getElementById('situation-description-adult').textContent = situation.description;
                    
                    // Mostrar consejos
                    const tipsList = situation.tips.map(tip => `<li>${tip}</li>`).join('');
                    document.getElementById('situation-description-adult').innerHTML += 
                        `<div style="margin-top: 15px;"><strong>Consejos:</strong><ul style="margin-top: 5px;">${tipsList}</ul></div>`;
                    
                    // Mostrar el panel de presupuesto
                    document.getElementById('current-budget-display-adult').style.display = 'block';
                    
                    // Reiniciar carrito
                    adultCart = [];
                    updateAdultCart();
                    
                    // Ocultar resultados de compra previa
                    document.getElementById('purchase-result-adult').style.display = 'none';

                    // Mostrar productos recomendados
            showRecommendedProducts(situationId, true);
                });
            });

            // Funciones para el simulador de adolescentes
            document.getElementById('search-product').addEventListener('click', function() {
                const productId = document.getElementById('product-search').value;
                const product = productsDatabase[productId];
                
                if (product) {
                    document.getElementById('product-name').textContent = product.name;
                    document.getElementById('product-description').textContent = product.description;
                    document.getElementById('product-category').textContent = `Categoría: ${product.category}`;
                    document.getElementById('product-image').src = product.image;
                    document.getElementById('product-image').alt = product.name;
                    
                    // Llenar tabla de precios
                    const priceTable = document.getElementById('price-comparison');
                    priceTable.innerHTML = '';
                    
                    // Encontrar el mejor precio
                    const prices = Object.values(product.prices);
                    const minPrice = Math.min(...prices);
                    
                    for (const store in product.prices) {
                        const row = document.createElement('tr');
                        const price = product.prices[store];
                        const isBestPrice = price === minPrice;
                        
                        row.className = isBestPrice ? 'best-price' : '';
                        row.innerHTML = `
                            <td>${store.charAt(0).toUpperCase() + store.slice(1)}</td>
                            <td>$${price.toFixed(2)}</td>
                            <td>${product.promotions[store]}</td>
                            <td>$${price.toFixed(2)}/${product.unit}</td>
                        `;
                        priceTable.appendChild(row);
                    }
                    
                    document.getElementById('product-result').style.display = 'block';
                } else {
                    alert('Producto no encontrado. Intenta con otro ID.');
                }
            });
            
            document.getElementById('add-to-cart').addEventListener('click', function() {
                const productId = document.getElementById('product-search').value;
                const quantity = parseInt(document.getElementById('product-quantity').value) || 1;
                const product = productsDatabase[productId];
                
                if (product) {
                    // Buscar el precio más bajo
                    const prices = Object.values(product.prices);
                    const minPrice = Math.min(...prices);
                    
                    // Agregar al carrito
                    const existingItem = cart.find(item => item.id === productId);
                    
                    if (existingItem) {
                        existingItem.quantity += quantity;
                    } else {
                        cart.push({
                            id: productId,
                            name: product.name,
                            price: minPrice,
                            quantity: quantity,
                            unit: product.unit,
                            taxable: product.taxable || false
                        });
                    }
                    
                    updateCart();
                    
                    // Mostrar notificación de éxito
                    const notification = document.createElement('div');
                    notification.textContent = `${quantity} ${product.name} agregado(s) al carrito`;
                    notification.style.position = 'fixed';
                    notification.style.bottom = '20px';
                    notification.style.right = '20px';
                    notification.style.backgroundColor = 'var(--success)';
                    notification.style.color = 'white';
                    notification.style.padding = '10px 20px';
                    notification.style.borderRadius = '5px';
                    notification.style.boxShadow = '0 3px 10px rgba(0,0,0,0.2)';
                    notification.style.zIndex = '1000';
                    notification.style.animation = 'fadeIn 0.3s';
                    document.body.appendChild(notification);
                    
                    // Eliminar notificación después de 3 segundos
                    setTimeout(() => {
                        notification.style.animation = 'fadeIn 0.3s reverse';
                        setTimeout(() => notification.remove(), 300);
                    }, 3000);
                }
            });
            
            document.getElementById('clear-cart').addEventListener('click', function() {
                cart = [];
                updateCart();
            });
            
            document.getElementById('checkout').addEventListener('click', function() {
                if (cart.length === 0) {
                    alert('Tu carrito está vacío.');
                    return;
                }
                
                // Calcular totales
                const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
                const taxes = cart.reduce((sum, item) => {
                    return item.taxable ? sum + (item.price * item.quantity * 0.16) : sum;
                }, 0);
                const total = subtotal + taxes;
                
                // Verificar presupuesto
                if (total > currentBudget) {
                    document.getElementById('purchase-message').textContent = 
                        `Has excedido tu presupuesto por $${(total - currentBudget).toFixed(2)}. Considera eliminar algunos artículos.`;
                    document.getElementById('purchase-message').style.color = 'var(--danger)';
                } else {
                    document.getElementById('purchase-message').textContent = 
                        `¡Compra exitosa! Has gastado $${total.toFixed(2)} de tus $${currentBudget.toFixed(2)}.`;
                    document.getElementById('purchase-message').style.color = 'var(--success)';
                    
                    // Mostrar análisis de presupuesto
                    const remaining = currentBudget - total;
                    const percentageUsed = (total / currentBudget) * 100;
                    
                    let budgetAnalysis = `Utilizaste el ${percentageUsed.toFixed(1)}% de tu presupuesto. `;
                    
                    if (percentageUsed < 70) {
                        budgetAnalysis += "Excelente trabajo, mantuviste tus gastos muy por debajo del presupuesto.";
                    } else if (percentageUsed < 90) {
                        budgetAnalysis += "Buen manejo del presupuesto, te quedó un margen para imprevistos.";
                    } else if (percentageUsed < 100) {
                        budgetAnalysis += "Cuidado, estás muy cerca de tu límite de presupuesto.";
                    }
                    
                    document.getElementById('budget-analysis').textContent = budgetAnalysis;
                }
                
                // Calcular ahorro potencial
                let maxPossibleSpend = 0;
                cart.forEach(item => {
                    const product = productsDatabase[item.id];
                    const maxPrice = Math.max(...Object.values(product.prices));
                    maxPossibleSpend += maxPrice * item.quantity;
                });
                
                const savings = maxPossibleSpend - subtotal;
                document.getElementById('savings-message').textContent = `Comparando precios, ahorraste $${savings.toFixed(2)} en esta compra.`;
                
                // Mostrar resultados
                document.getElementById('purchase-result').style.display = 'block';
            });
            
            document.getElementById('new-purchase').addEventListener('click', function() {
                cart = [];
                updateCart();
                document.getElementById('purchase-result').style.display = 'none';
            });
            
            function updateCart() {
                const cartContent = document.getElementById('cart-content');
                cartContent.innerHTML = '';
                
                if (cart.length === 0) {
                    document.getElementById('cart-items').style.display = 'none';
                    document.getElementById('cart-empty').style.display = 'block';
                    document.getElementById('cart-totals').style.display = 'none';
                    document.getElementById('cart-summary').textContent = '';
                    return;
                }
                
                let subtotal = 0;
                let taxes = 0;
                
                cart.forEach((item, index) => {
                    const product = productsDatabase[item.id];
                    const itemSubtotal = item.price * item.quantity;
                    const itemTax = item.taxable ? itemSubtotal * 0.16 : 0;
                    
                    subtotal += itemSubtotal;
                    taxes += itemTax;
                    
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>${item.name}</td>
                        <td>
                            <input type="number" value="${item.quantity}" min="1" class="quantity-input" data-index="${index}">
                        </td>
                        <td>$${item.price.toFixed(2)}/${item.unit}</td>
                        <td>$${itemSubtotal.toFixed(2)}</td>
                        <td>
                            <button class="remove-item" data-index="${index}">Eliminar</button>
                        </td>
                    `;
                    cartContent.appendChild(row);
                });
                
                const total = subtotal + taxes;
                
                // Actualizar totales
                document.getElementById('cart-subtotal').textContent = `$${subtotal.toFixed(2)}`;
                document.getElementById('cart-taxes').textContent = `$${taxes.toFixed(2)}`;
                document.getElementById('cart-total').textContent = `$${total.toFixed(2)}`;
                
                // Actualizar resumen del carrito
                const itemCount = cart.reduce((count, item) => count + item.quantity, 0);
                document.getElementById('cart-summary').textContent = `${itemCount} ${itemCount === 1 ? 'artículo' : 'artículos'}`;
                
                // Mostrar elementos
                document.getElementById('cart-items').style.display = 'table';
                document.getElementById('cart-empty').style.display = 'none';
                document.getElementById('cart-totals').style.display = 'block';
                
                // Agregar eventos a los inputs de cantidad
                document.querySelectorAll('.quantity-input').forEach(input => {
                    input.addEventListener('change', function() {
                        const index = parseInt(this.getAttribute('data-index'));
                        const newQuantity = parseInt(this.value) || 1;
                        
                        if (newQuantity > 0) {
                            cart[index].quantity = newQuantity;
                            updateCart();
                        }
                    });
                });
                
                // Agregar eventos a los botones de eliminar
                document.querySelectorAll('.remove-item').forEach(button => {
                    button.addEventListener('click', function() {
                        const index = parseInt(this.getAttribute('data-index'));
                        cart.splice(index, 1);
                        updateCart();
                    });
                });
            }
            
            // Funciones para el simulador de adultos (similar al de adolescentes)
            document.getElementById('search-product-adult').addEventListener('click', function() {
                const productId = document.getElementById('product-search-adult').value;
                const product = productsDatabase[productId];
                
                if (product) {
                    document.getElementById('product-name-adult').textContent = product.name;
                    document.getElementById('product-description-adult').textContent = product.description;
                    document.getElementById('product-category-adult').textContent = `Categoría: ${product.category}`;
                    document.getElementById('product-image-adult').src = product.image;
                    document.getElementById('product-image-adult').alt = product.name;
                    
                    // Llenar tabla de precios
                    const priceTable = document.getElementById('price-comparison-adult');
                    priceTable.innerHTML = '';
                    
                    // Encontrar el mejor precio
                    const prices = Object.values(product.prices);
                    const minPrice = Math.min(...prices);
                    
                    for (const store in product.prices) {
                        const row = document.createElement('tr');
                        const price = product.prices[store];
                        const isBestPrice = price === minPrice;
                        
                        row.className = isBestPrice ? 'best-price' : '';
                        row.innerHTML = `
                            <td>${store.charAt(0).toUpperCase() + store.slice(1)}</td>
                            <td>$${price.toFixed(2)}</td>
                            <td>${product.promotions[store]}</td>
                            <td>$${price.toFixed(2)}/${product.unit}</td>
                        `;
                        priceTable.appendChild(row);
                    }
                    
                    document.getElementById('product-result-adult').style.display = 'block';
                } else {
                    alert('Producto no encontrado. Intenta con otro ID.');
                }
            });
            
            document.getElementById('add-to-cart-adult').addEventListener('click', function() {
                const productId = document.getElementById('product-search-adult').value;
                const quantity = parseInt(document.getElementById('product-quantity-adult').value) || 1;
                const product = productsDatabase[productId];
                
                if (product) {
                    // Buscar el precio más bajo
                    const prices = Object.values(product.prices);
                    const minPrice = Math.min(...prices);
                    
                    // Agregar al carrito
                    const existingItem = adultCart.find(item => item.id === productId);
                    
                    if (existingItem) {
                        existingItem.quantity += quantity;
                    } else {
                        adultCart.push({
                            id: productId,
                            name: product.name,
                            price: minPrice,
                            quantity: quantity,
                            unit: product.unit,
                            taxable: product.taxable || false
                        });
                    }
                    
                    updateAdultCart();
                    
                    // Mostrar notificación de éxito
                    const notification = document.createElement('div');
                    notification.textContent = `${quantity} ${product.name} agregado(s) al carrito`;
                    notification.style.position = 'fixed';
                    notification.style.bottom = '20px';
                    notification.style.right = '20px';
                    notification.style.backgroundColor = 'var(--success)';
                    notification.style.color = 'white';
                    notification.style.padding = '10px 20px';
                    notification.style.borderRadius = '5px';
                    notification.style.boxShadow = '0 3px 10px rgba(0,0,0,0.2)';
                    notification.style.zIndex = '1000';
                    notification.style.animation = 'fadeIn 0.3s';
                    document.body.appendChild(notification);
                    
                    // Eliminar notificación después de 3 segundos
                    setTimeout(() => {
                        notification.style.animation = 'fadeIn 0.3s reverse';
                        setTimeout(() => notification.remove(), 300);
                    }, 3000);
                }
            });
            
            document.getElementById('clear-cart-adult').addEventListener('click', function() {
                adultCart = [];
                updateAdultCart();
            });
            
            document.getElementById('checkout-adult').addEventListener('click', function() {
                if (adultCart.length === 0) {
                    alert('Tu carrito está vacío.');
                    return;
                }
                
                // Calcular totales
                const subtotal = adultCart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
                const taxes = adultCart.reduce((sum, item) => {
                    return item.taxable ? sum + (item.price * item.quantity * 0.16) : sum;
                }, 0);
                const total = subtotal + taxes;
                
                // Verificar presupuesto
                if (total > adultCurrentBudget) {
                    document.getElementById('purchase-message-adult').textContent = 
                        `Has excedido tu presupuesto por $${(total - adultCurrentBudget).toFixed(2)}. Considera eliminar algunos artículos.`;
                    document.getElementById('purchase-message-adult').style.color = 'var(--danger)';
                } else {
                    document.getElementById('purchase-message-adult').textContent = 
                        `¡Compra exitosa! Has gastado $${total.toFixed(2)} de tus $${adultCurrentBudget.toFixed(2)}.`;
                    document.getElementById('purchase-message-adult').style.color = 'var(--success)';
                    
                    // Mostrar análisis de presupuesto
                    const remaining = adultCurrentBudget - total;
                    const percentageUsed = (total / adultCurrentBudget) * 100;
                    
                    let budgetAnalysis = `Utilizaste el ${percentageUsed.toFixed(1)}% de tu presupuesto. `;
                    
                    if (percentageUsed < 70) {
                        budgetAnalysis += "Excelente trabajo, mantuviste tus gastos muy por debajo del presupuesto.";
                    } else if (percentageUsed < 90) {
                        budgetAnalysis += "Buen manejo del presupuesto, te quedó un margen para imprevistos.";
                    } else if (percentageUsed < 100) {
                        budgetAnalysis += "Cuidado, estás muy cerca de tu límite de presupuesto.";
                    }
                    
                    document.getElementById('budget-analysis-adult').textContent = budgetAnalysis;
                }
                
                // Calcular ahorro potencial
                let maxPossibleSpend = 0;
                adultCart.forEach(item => {
                    const product = productsDatabase[item.id];
                    const maxPrice = Math.max(...Object.values(product.prices));
                    maxPossibleSpend += maxPrice * item.quantity;
                });
                
                const savings = maxPossibleSpend - subtotal;
                document.getElementById('savings-message-adult').textContent = `Comparando precios, ahorraste $${savings.toFixed(2)} en esta compra.`;
                
                // Mostrar resultados
                document.getElementById('purchase-result-adult').style.display = 'block';
            });
            
            document.getElementById('new-purchase-adult').addEventListener('click', function() {
                adultCart = [];
                updateAdultCart();
                document.getElementById('purchase-result-adult').style.display = 'none';
            });
            
            function updateAdultCart() {
                const cartContent = document.getElementById('cart-content-adult');
                cartContent.innerHTML = '';
                
                if (adultCart.length === 0) {
                    document.getElementById('cart-items-adult').style.display = 'none';
                    document.getElementById('cart-empty-adult').style.display = 'block';
                    document.getElementById('cart-totals-adult').style.display = 'none';
                    document.getElementById('cart-summary-adult').textContent = '';
                    return;
                }
                
                let subtotal = 0;
                let taxes = 0;
                
                adultCart.forEach((item, index) => {
                    const product = productsDatabase[item.id];
                    const itemSubtotal = item.price * item.quantity;
                    const itemTax = item.taxable ? itemSubtotal * 0.16 : 0;
                    
                    subtotal += itemSubtotal;
                    taxes += itemTax;
                    
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>${item.name}</td>
                        <td>
                            <input type="number" value="${item.quantity}" min="1" class="quantity-input" data-index="${index}">
                        </td>
                        <td>$${item.price.toFixed(2)}/${item.unit}</td>
                        <td>$${itemSubtotal.toFixed(2)}</td>
                        <td>
                            <button class="remove-item" data-index="${index}">Eliminar</button>
                        </td>
                    `;
                    cartContent.appendChild(row);
                });
                
                const total = subtotal + taxes;
                
                // Actualizar totales
                document.getElementById('cart-subtotal-adult').textContent = `$${subtotal.toFixed(2)}`;
                document.getElementById('cart-taxes-adult').textContent = `$${taxes.toFixed(2)}`;
                document.getElementById('cart-total-adult').textContent = `$${total.toFixed(2)}`;
                
                // Actualizar resumen del carrito
                const itemCount = adultCart.reduce((count, item) => count + item.quantity, 0);
                document.getElementById('cart-summary-adult').textContent = `${itemCount} ${itemCount === 1 ? 'artículo' : 'artículos'}`;
                
                // Mostrar elementos
                document.getElementById('cart-items-adult').style.display = 'table';
                document.getElementById('cart-empty-adult').style.display = 'none';
                document.getElementById('cart-totals-adult').style.display = 'block';
                
                // Agregar eventos a los inputs de cantidad
                document.querySelectorAll('#cart-content-adult .quantity-input').forEach(input => {
                    input.addEventListener('change', function() {
                        const index = parseInt(this.getAttribute('data-index'));
                        const newQuantity = parseInt(this.value) || 1;
                        
                        if (newQuantity > 0) {
                            adultCart[index].quantity = newQuantity;
                            updateAdultCart();
                        }
                    });
                });
                
                // Agregar eventos a los botones de eliminar
                document.querySelectorAll('#cart-content-adult .remove-item').forEach(button => {
                    button.addEventListener('click', function() {
                        const index = parseInt(this.getAttribute('data-index'));
                        adultCart.splice(index, 1);
                        updateAdultCart();
                    });
                });
            }
        }


        // Reto del Ahorro Extremo - Lógica
document.addEventListener('DOMContentLoaded', function() {
    const salary = 1500;
    let currentMonth = 1;
    let totalSaved = 0;
    let monthsCompleted = 0;
    
    // Elementos del DOM
    const sliders = {
        housing: document.getElementById('housing-slider'),
        food: document.getElementById('food-slider'),
        transport: document.getElementById('transport-slider'),
        entertainment: document.getElementById('entertainment-slider'),
        savings: document.getElementById('savings-slider')
    };
    
    const valueDisplays = {
        housing: document.getElementById('housing-value'),
        food: document.getElementById('food-value'),
        transport: document.getElementById('transport-value'),
        entertainment: document.getElementById('entertainment-value'),
        savings: document.getElementById('savings-value')
    };
    
    const remainingMoneyDisplay = document.getElementById('remaining-money');
    const budgetProgress = document.getElementById('budget-progress');
    const budgetAlert = document.getElementById('budget-alert');
    const nextMonthBtn = document.getElementById('next-month-btn');
    
    // Inicializar gráfico de pastel
    const budgetPieCtx = document.getElementById('budgetPieChart').getContext('2d');
    let budgetPieChart = new Chart(budgetPieCtx, {
        type: 'pie',
        data: {
            labels: ['Vivienda', 'Comida', 'Transporte', 'Entretenimiento', 'Ahorros'],
            datasets: [{
                data: [500, 300, 100, 200, 100],
                backgroundColor: [
                    '#4361ee',
                    '#3a0ca3',
                    '#f72585',
                    '#4cc9f0',
                    '#2ecc71'
                ],
                borderWidth: 1
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    position: 'bottom'
                }
            }
        }
    });
    
    // Función para actualizar el presupuesto
    function updateBudget() {
        // Calcular total gastado
        let totalSpent = 0;
        for (const category in sliders) {
            totalSpent += parseInt(sliders[category].value);
        }
        
        // Calcular dinero restante
        const remaining = salary - totalSpent;
        remainingMoneyDisplay.textContent = `$${remaining}`;
        
        // Actualizar barra de progreso
        const progressPercentage = (remaining / salary) * 100;
        budgetProgress.style.width = `${progressPercentage}%`;
        
        // Cambiar color según el nivel de presupuesto
        if (progressPercentage < 20) {
            budgetProgress.style.backgroundColor = '#e74c3c';
            budgetAlert.style.display = 'block';
        } else if (progressPercentage < 40) {
            budgetProgress.style.backgroundColor = '#f39c12';
            budgetAlert.style.display = 'block';
        } else {
            budgetProgress.style.backgroundColor = '#2ecc71';
            budgetAlert.style.display = 'none';
        }
        
        // Actualizar gráfico de pastel
        budgetPieChart.data.datasets[0].data = [
            parseInt(sliders.housing.value),
            parseInt(sliders.food.value),
            parseInt(sliders.transport.value),
            parseInt(sliders.entertainment.value),
            parseInt(sliders.savings.value)
        ];
        budgetPieChart.update();
    }
    
    // Event listeners para los sliders
    for (const category in sliders) {
        sliders[category].addEventListener('input', function() {
            valueDisplays[category].textContent = `$${this.value}`;
            updateBudget();
        });
    }
    
    // Botón para avanzar al próximo mes
    nextMonthBtn.addEventListener('click', function() {
        const savings = parseInt(sliders.savings.value);
        totalSaved += savings;
        currentMonth++;
        
        // Mostrar resultado del mes
        const remaining = salary - Object.values(sliders).reduce((sum, slider) => sum + parseInt(slider.value), 0);
        
        if (remaining >= 0) {
            monthsCompleted++;
            alert(`¡Mes ${currentMonth-1} completado!\nAhorraste: $${savings}\nTotal ahorrado: $${totalSaved}`);
            
            // Aumentar dificultad cada 3 meses
            if (monthsCompleted % 3 === 0) {
                alert('¡Desafío aumentado! Tus gastos fijos han subido un 10%');
                sliders.housing.min = Math.floor(sliders.housing.min * 1.1);
                sliders.food.min = Math.floor(sliders.food.min * 1.1);
                sliders.transport.min = Math.floor(sliders.transport.min * 1.1);
            }
        } else {
            alert(`¡Mes ${currentMonth-1} fallado!\nTe quedaste sin dinero antes de fin de mes. Intenta ajustar mejor tu presupuesto.`);
        }
        
        // Resetear sliders para el nuevo mes
        sliders.housing.value = 500;
        sliders.food.value = 300;
        sliders.transport.value = 100;
        sliders.entertainment.value = 200;
        sliders.savings.value = 100;
        
        // Actualizar displays
        valueDisplays.housing.textContent = '$500';
        valueDisplays.food.textContent = '$300';
        valueDisplays.transport.textContent = '$100';
        valueDisplays.entertainment.textContent = '$200';
        valueDisplays.savings.textContent = '$100';
        
        updateBudget();
    });
    
    // Inicializar presupuesto
    updateBudget();
});



// CryptoQuest - Lógica
document.addEventListener('DOMContentLoaded', function() {
    // Datos iniciales de las criptomonedas
    let cryptos = {
        "BitCoinFalso": { price: 500, change: 0, owned: 0, history: [500] },
        "EthereumFalso": { price: 300, change: 0, owned: 0, history: [300] },
        "DogeFalso": { price: 0.5, change: 0, owned: 0, history: [0.5] },
        "LunaFalsa": { price: 100, change: 0, owned: 0, history: [100] }
    };
    
    let balance = 1000;
    let day = 1;
    let cryptoChart;
    
    // Elementos del DOM
    const cryptoTableBody = document.getElementById('crypto-table-body');
    const cryptoBalanceDisplay = document.getElementById('crypto-balance');
    const nextDayBtn = document.getElementById('next-day-btn');
    const sellAllBtn = document.getElementById('sell-all-btn');
    const cryptoResult = document.getElementById('crypto-result');
    const cryptoResultText = document.getElementById('crypto-result-text');
    
    // Inicializar gráfico de criptomonedas
    const cryptoCtx = document.getElementById('cryptoChart').getContext('2d');
    
    // Función para generar cambio aleatorio de precio (-10% a +10%)
    function randomPriceChange() {
        return (Math.random() * 0.2 - 0.1); // -10% a +10%
    }
    
    // Función para actualizar los precios de las criptomonedas
    function updateCryptoPrices() {
        for (const crypto in cryptos) {
            const change = randomPriceChange();
            const oldPrice = cryptos[crypto].price;
            const newPrice = oldPrice * (1 + change);
            
            cryptos[crypto].price = newPrice;
            cryptos[crypto].change = change * 100; // en porcentaje
            cryptos[crypto].history.push(newPrice);
            
            // Mantener solo los últimos 30 días de historial
            if (cryptos[crypto].history.length > 30) {
                cryptos[crypto].history.shift();
            }
        }
    }
    
    // Función para actualizar la tabla de criptomonedas
    function updateCryptoTable() {
        cryptoTableBody.innerHTML = '';
        
        for (const crypto in cryptos) {
            const row = document.createElement('tr');
            const change = cryptos[crypto].change;
            const changeClass = change >= 0 ? 'positive' : 'negative';
            
            row.innerHTML = `
                <td>${crypto}</td>
                <td>$${cryptos[crypto].price.toFixed(2)}</td>
                <td class="${changeClass}">${change >= 0 ? '+' : ''}${change.toFixed(2)}%</td>
                <td>${cryptos[crypto].owned}</td>
                <td>
                    <input type="number" id="invest-${crypto}" min="0" max="${balance}" step="10" value="0" style="width: 80px;">
                    <button class="btn btn-sm invest-btn" data-crypto="${crypto}" style="margin-left: 5px;">Invertir</button>
                </td>
            `;
            
            cryptoTableBody.appendChild(row);
        }
        
        // Agregar event listeners a los botones de invertir
        document.querySelectorAll('.invest-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const crypto = this.getAttribute('data-crypto');
                const amount = parseFloat(document.getElementById(`invest-${crypto}`).value);
                
                if (amount > balance) {
                    alert('No tienes suficiente balance para esta inversión');
                    return;
                }
                
                if (amount <= 0) {
                    alert('Ingresa una cantidad válida');
                    return;
                }
                
                // Calcular cuántas unidades puede comprar
                const units = amount / cryptos[crypto].price;
                cryptos[crypto].owned += units;
                balance -= amount;
                
                updateCryptoTable();
                cryptoBalanceDisplay.textContent = `$${balance.toFixed(2)}`;
            });
        });
    }
    
    // Función para actualizar el gráfico
    function updateCryptoChart() {
        const labels = Array.from({length: cryptos["BitCoinFalso"].history.length}, (_, i) => `Día ${i+1}`);
        
        if (cryptoChart) {
            cryptoChart.destroy();
        }
        
        cryptoChart = new Chart(cryptoCtx, {
            type: 'line',
            data: {
                labels: labels,
                datasets: Object.keys(cryptos).map((crypto, i) => ({
                    label: crypto,
                    data: cryptos[crypto].history,
                    borderColor: [
                        '#4361ee',
                        '#3a0ca3',
                        '#f72585',
                        '#4cc9f0'
                    ][i],
                    backgroundColor: 'rgba(0,0,0,0)',
                    tension: 0.1
                }))
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: false
                    }
                }
            }
        });
    }
    
    // Botón para avanzar un día
    nextDayBtn.addEventListener('click', function() {
        updateCryptoPrices();
        updateCryptoTable();
        updateCryptoChart();
        day++;
        
        // Mostrar resultado cada 7 días
        if (day % 7 === 0) {
            const totalValue = Object.keys(cryptos).reduce((sum, crypto) => {
                return sum + (cryptos[crypto].owned * cryptos[crypto].price);
            }, balance);
            
            const profit = totalValue - 1000;
            const profitPercentage = (profit / 1000) * 100;
            
            cryptoResultText.innerHTML = `Después de ${day} días:<br>
                Valor total: $${totalValue.toFixed(2)}<br>
                Ganancia/Pérdida: $${profit.toFixed(2)} (${profitPercentage >= 0 ? '+' : ''}${profitPercentage.toFixed(2)}%)`;
            
            cryptoResult.style.display = 'block';
        }
    });
    
    // Botón para vender todo
    sellAllBtn.addEventListener('click', function() {
        for (const crypto in cryptos) {
            balance += cryptos[crypto].owned * cryptos[crypto].price;
            cryptos[crypto].owned = 0;
        }
        
        cryptoBalanceDisplay.textContent = `$${balance.toFixed(2)}`;
        updateCryptoTable();
        
        cryptoResultText.textContent = `Has vendido todas tus criptomonedas. Balance actual: $${balance.toFixed(2)}`;
        cryptoResult.style.display = 'block';
    });
    
    // Inicializar el juego
    updateCryptoTable();
    updateCryptoChart();
});



//Novo jogo
// Lógica del juego de inversión
    document.addEventListener('DOMContentLoaded', function() {
        // Variables del juego
        let currentMoney = 1000;
        let currentMonth = 1;
        let totalMonths = 12;
        let investmentHistory = [1000];
        let investmentChart;
        
        // Elementos del DOM
        const currentMoneyDisplay = document.getElementById('current-money');
        const currentMonthDisplay = document.getElementById('current-month');
        const monthProgress = document.getElementById('month-progress');
        const performanceDisplay = document.getElementById('performance');
        const nextMonthBtn = document.getElementById('next-month-investment');
        const monthResult = document.getElementById('month-result-text');
        const investmentTip = document.getElementById('investment-tip');
        const investmentResult = document.getElementById('investment-result');
        
        // Inicializar gráfico
        const investmentCtx = document.getElementById('investmentChart').getContext('2d');
        investmentChart = new Chart(investmentCtx, {
            type: 'line',
            data: {
                labels: ['Inicio'],
                datasets: [{
                    label: 'Capital ($)',
                    data: [1000],
                    borderColor: '#4361ee',
                    backgroundColor: 'rgba(67, 97, 238, 0.1)',
                    tension: 0.1,
                    fill: true
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: false
                    }
                }
            }
        });
        
        // Event listeners para los botones de inversión
        document.querySelectorAll('.invest-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const card = this.closest('.investment-card');
                const risk = card.getAttribute('data-risk');
                const expectedReturn = parseFloat(card.getAttribute('data-return'));
                
                // Calcular rendimiento real (con variabilidad según el riesgo)
                let actualReturn = expectedReturn;
                let resultMessage = '';
                let tipMessage = '';
                
                // Añadir variabilidad según el riesgo
                if (risk === 'low') {
                    // Baja variabilidad (2-4%)
                    actualReturn = expectedReturn + (Math.random() * 2 - 1);
                    resultMessage = `Tu inversión conservadora generó un ${actualReturn.toFixed(2)}% este mes.`;
                    tipMessage = "Las inversiones de bajo riesgo son seguras pero con rendimientos limitados.";
                } else if (risk === 'medium') {
                    // Variabilidad media (5-11%)
                    actualReturn = expectedReturn + (Math.random() * 6 - 3);
                    resultMessage = `Tu inversión moderada generó un ${actualReturn.toFixed(2)}% este mes.`;
                    tipMessage = "Diversificar tus inversiones ayuda a balancear riesgo y rendimiento.";
                } else if (risk === 'high') {
                    // Alta variabilidad (puede ser negativo)
                    actualReturn = expectedReturn + (Math.random() * 40 - 20);
                    if (actualReturn < 0) {
                        resultMessage = `Tu inversión arriesgada perdió un ${Math.abs(actualReturn).toFixed(2)}% este mes.`;
                        tipMessage = "Las inversiones de alto riesgo pueden tener grandes pérdidas. No inviertas más de lo que puedas permitirte perder.";
                    } else {
                        resultMessage = `Tu inversión arriesgada generó un ${actualReturn.toFixed(2)}% este mes.`;
                        tipMessage = "Los altos rendimientos vienen con alto riesgo. Considera asignar solo una parte de tu capital a estas inversiones.";
                    }
                }
                
                // Calcular nuevo capital (convertir retorno anual a mensual)
                const monthlyReturn = (actualReturn / 12);
                currentMoney = currentMoney * (1 + (monthlyReturn / 100));
                
                // Actualizar UI
                currentMoneyDisplay.textContent = `$${currentMoney.toFixed(2)}`;
                
                // Calcular rendimiento total
                const performance = ((currentMoney - 1000) / 1000) * 100;
                performanceDisplay.textContent = `${performance >= 0 ? '+' : ''}${performance.toFixed(2)}%`;
                performanceDisplay.className = performance >= 0 ? 'positive' : 'negative';
                
                // Mostrar resultados
                monthResult.textContent = resultMessage;
                investmentTip.textContent = tipMessage;
                investmentResult.style.display = 'block';
                
                // Deshabilitar botones hasta avanzar al próximo mes
                document.querySelectorAll('.invest-btn').forEach(b => {
                    b.disabled = true;
                });
            });
        });
        
        // Avanzar al próximo mes
        nextMonthBtn.addEventListener('click', function() {
            currentMonth++;
            
            if (currentMonth > totalMonths) {
                // Juego terminado
                const finalPerformance = ((currentMoney - 1000) / 1000) * 100;
                let finalMessage = `¡Juego completado! Tu capital final es $${currentMoney.toFixed(2)}. `;
                
                if (finalPerformance > 30) {
                    finalMessage += "¡Excelente trabajo! Has superado significativamente el rendimiento promedio del mercado.";
                } else if (finalPerformance > 10) {
                    finalMessage += "Buen trabajo. Has logrado un rendimiento superior al de una cuenta de ahorros tradicional.";
                } else if (finalPerformance > 0) {
                    finalMessage += "Has obtenido un rendimiento positivo, pero podrías mejorar diversificando más.";
                } else {
                    finalMessage += "Tu capital disminuyó. Considera estrategias más conservadoras o diversificadas.";
                }
                
                alert(finalMessage);
                
                // Reiniciar juego
                currentMoney = 1000;
                currentMonth = 1;
                investmentHistory = [1000];
            } else {
                // Actualizar progreso
                monthProgress.style.width = `${(currentMonth / totalMonths) * 100}%`;
                currentMonthDisplay.textContent = currentMonth;
                
                // Registrar historial para el gráfico
                investmentHistory.push(currentMoney);
                
                // Actualizar gráfico
                updateChart();
            }
            
            // Reiniciar para el nuevo mes
            document.querySelectorAll('.invest-btn').forEach(b => {
                b.disabled = false;
            });
            
            investmentResult.style.display = 'none';
        });
        
        // Función para actualizar el gráfico
        function updateChart() {
            const labels = [];
            for (let i = 0; i < investmentHistory.length; i++) {
                labels.push(i === 0 ? 'Inicio' : `Mes ${i}`);
            }
            
            investmentChart.data.labels = labels;
            investmentChart.data.datasets[0].data = investmentHistory;
            investmentChart.update();
        }
    });




// Simulador de Crisis Financiera - Versión mejorada
document.addEventListener('DOMContentLoaded', function() {
    // Esperar a que Howler.js esté cargado si se usa
    function initCrisisGame() {
        // Escenarios de crisis mejorados
        const scenarios = [
            {
                id: 1,
                title: "Reparación de Auto Costosa",
                description: "Tu automóvil principal necesita reparaciones importantes. El mecánico dice que costará $1,200 arreglarlo. ¿Qué decides hacer?",
                options: [
                    {
                        text: "Reparar el auto usando tus ahorros",
                        explanation: "Usar ahorros evita deudas pero reduce tu colchón financiero.",
                        effects: { savings: -1200, debt: 0, health: 5 },
                        result: "El auto queda como nuevo. Tus ahorros disminuyen pero evitas deudas."
                    },
                    {
                        text: "Pedir un préstamo (3 meses al 15% interés)",
                        explanation: "Los préstamos permiten conservar ahorros pero generan intereses.",
                        effects: { savings: 0, debt: 1300, health: -10 },
                        result: "El auto queda reparado pero ahora tienes una deuda de $1,300."
                    },
                    {
                        text: "Usar transporte público temporalmente",
                        explanation: "Posponer la reparación ahorra dinero pero afecta tu movilidad.",
                        effects: { savings: 0, debt: 0, health: -15 },
                        result: "Ahorras dinero pero pierdes tiempo en transporte y oportunidades."
                    }
                ]
            },
            {
                id: 2,
                title: "Despido Laboral",
                description: "Tu empresa anuncia recortes de personal. Tienes un 40% de probabilidad de ser despedido este mes. ¿Cómo te preparas?",
                options: [
                    {
                        text: "Buscar otro trabajo activamente",
                        explanation: "Ser proactivo aumenta tus oportunidades laborales.",
                        effects: { savings: -200, debt: 0, health: 15 },
                        result: "Inviertes en networking y capacitación. Tus oportunidades mejoran."
                    },
                    {
                        text: "Reducir gastos inmediatamente",
                        explanation: "Ajustar tu estilo de vida preserva tus ahorros.",
                        effects: { savings: 500, debt: 0, health: 10 },
                        result: "Logras ahorrar $500 este mes al reducir gastos no esenciales."
                    },
                    {
                        text: "Ignorar la situación por ahora",
                        explanation: "No prepararte te hace vulnerable a crisis futuras.",
                        effects: { savings: 0, debt: 0, health: -25 },
                        result: "Si te despiden, no estarás preparado financieramente."
                    }
                ]
            },
            {
                id: 3,
                title: "Emergencia Médica",
                description: "Una emergencia médica requiere tratamiento de $3,500. Tu seguro solo cubre 50%. ¿Cómo procedes?",
                options: [
                    {
                        text: "Pagar con ahorros",
                        explanation: "Usar ahorros evita deudas pero reduce tu seguridad financiera.",
                        effects: { savings: -1750, debt: 0, health: 0 },
                        result: "Resuelves el problema médico pero reduces significativamente tus ahorros."
                    },
                    {
                        text: "Usar tarjeta de crédito (24% interés)",
                        explanation: "El financiamiento inmediato genera costos a largo plazo.",
                        effects: { savings: 0, debt: 1750, health: -20 },
                        result: "Solucionas el problema médico pero adquieres deuda costosa."
                    },
                    {
                        text: "Negociar plan de pagos con el hospital",
                        explanation: "Muchas instituciones médicas ofrecen planes sin intereses.",
                        effects: { savings: -500, debt: 1250, health: -5 },
                        result: "Pagas una parte inicial y el resto en cuotas manejables sin intereses."
                    }
                ]
            },
            {
                id: 4,
                title: "Caída del Mercado",
                description: "El mercado de valores cae bruscamente. Tus inversiones pierden 18% de valor. ¿Qué acción tomas?",
                options: [
                    {
                        text: "Vender para evitar más pérdidas",
                        explanation: "Vender en baja realiza las pérdidas pero protege contra caídas futuras.",
                        effects: { savings: -4000, debt: 0, health: -10 },
                        result: "Recuperas parte de tu inversión pero realizas las pérdidas."
                    },
                    {
                        text: "Mantener las inversiones",
                        explanation: "Los mercados suelen recuperarse con el tiempo.",
                        effects: { savings: 0, debt: 0, health: 15 },
                        result: "Mantienes tus activos para una eventual recuperación."
                    },
                    {
                        text: "Invertir más (promediar costos)",
                        explanation: "Comprar cuando los precios están bajos puede ser beneficioso.",
                        effects: { savings: -2000, debt: 0, health: 25 },
                        result: "Aprovechas los precios bajos para mejorar tu posición a largo plazo."
                    }
                ]
            },
            {
                id: 5,
                title: "Ayuda Familiar Urgente",
                description: "Un familiar necesita $2,000 urgentemente. No estás seguro de recuperar el dinero. ¿Qué haces?",
                options: [
                    {
                        text: "Prestar el dinero completo",
                        explanation: "Ayudar a familiares es importante pero afecta tus finanzas.",
                        effects: { savings: -2000, debt: 0, health: -5 },
                        result: "Ayudas a tu familiar pero reduces significativamente tus ahorros."
                    },
                    {
                        text: "Prestar una cantidad menor",
                        explanation: "Un compromiso balanceado entre ayudar y protegerte.",
                        effects: { savings: -500, debt: 0, health: 5 },
                        result: "Ofreces apoyo parcial sin comprometer tu seguridad financiera."
                    },
                    {
                        text: "Ofrecer otras formas de ayuda",
                        explanation: "Hay maneras de ayudar sin involucrar dinero directamente.",
                        effects: { savings: 0, debt: 0, health: 0 },
                        result: "Brindas apoyo emocional y logístico sin afectar tus finanzas."
                    }
                ]
            }
        ];

        // Estado del jugador
        const player = {
            savings: 10000,
            debt: 0,
            assets: 50000,
            health: 100,
            currentScenario: 0,
            completedScenarios: 0
        };

        // Elementos del DOM
        const elements = {
            dayDisplay: document.getElementById('crisis-day'),
            scenarioDisplay: document.getElementById('crisis-scenario'),
            optionsContainer: document.getElementById('crisis-options'),
            resultContainer: document.getElementById('crisis-result'),
            resultText: document.getElementById('crisis-result-text'),
            explanationText: document.getElementById('crisis-explanation'),
            healthBar: document.getElementById('finance-health-bar'),
            healthPercentage: document.getElementById('health-percentage'),
            savingsDisplay: document.getElementById('savings-amount'),
            debtDisplay: document.getElementById('debt-amount'),
            assetsDisplay: document.getElementById('assets-amount'),
            nextBtn: document.getElementById('next-crisis-btn')
        };

        // Funciones del juego
        function updatePlayerStats() {
            elements.savingsDisplay.textContent = `$${player.savings.toLocaleString()}`;
            elements.debtDisplay.textContent = `$${player.debt.toLocaleString()}`;
            elements.assetsDisplay.textContent = `$${player.assets.toLocaleString()}`;
            
            // Actualizar barra de salud
            elements.healthBar.style.width = `${player.health}%`;
            elements.healthPercentage.textContent = `${player.health}%`;
            
            // Cambiar color según salud
            if (player.health > 75) {
                elements.healthBar.style.backgroundColor = '#2ecc71';
            } else if (player.health > 40) {
                elements.healthBar.style.backgroundColor = '#f39c12';
            } else {
                elements.healthBar.style.backgroundColor = '#e74c3c';
            }
        }

        function showScenario() {
            // Verificar si el juego terminó
            if (player.currentScenario >= scenarios.length) {
                endGame();
                return;
            }
            
            const scenario = scenarios[player.currentScenario];
            
            // Mostrar información del escenario
            elements.dayDisplay.textContent = `Crisis ${player.currentScenario + 1} de ${scenarios.length}`;
            elements.scenarioDisplay.textContent = scenario.description;
            
            // Limpiar opciones anteriores
            elements.optionsContainer.innerHTML = '';
            
            // Crear botones para cada opción
            scenario.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.className = 'decision-btn';
                button.textContent = option.text;
                
                button.addEventListener('click', () => selectOption(option));
                
                elements.optionsContainer.appendChild(button);
            });
            
            // Mostrar contenedor de opciones y ocultar resultados
            elements.optionsContainer.style.display = 'grid';
            elements.resultContainer.style.display = 'none';
        }

        function selectOption(option) {
            // Aplicar efectos de la opción seleccionada
            player.savings += option.effects.savings;
            player.debt += option.effects.debt;
            player.health = Math.max(0, Math.min(100, player.health + option.effects.health));
            
            // Mostrar resultados
            elements.resultText.textContent = option.result;
            elements.explanationText.textContent = `🔍 ${option.explanation}`;
            
            // Actualizar estadísticas
            updatePlayerStats();
            
            // Ocultar opciones y mostrar resultados
            elements.optionsContainer.style.display = 'none';
            elements.resultContainer.style.display = 'block';
            
            // Incrementar escenarios completados
            player.completedScenarios++;
        }

        function endGame() {
            elements.dayDisplay.textContent = "Simulación Completada";
            elements.scenarioDisplay.textContent = "Has enfrentado todas las crisis financieras. Tu desempeño final:";
            
            // Calcular puntuación
            let evaluation;
            if (player.health > 80) {
                evaluation = "¡Excelente! Manejas las crisis con sabiduría financiera.";
            } else if (player.health > 50) {
                evaluation = "Buen trabajo, pero hay margen para mejorar tus decisiones.";
            } else {
                evaluation = "Considera aprender más sobre gestión financiera para futuras crisis.";
            }
            
            elements.resultText.textContent = evaluation;
            elements.explanationText.innerHTML = `
                Resumen final:<br>
                - Ahorros restantes: $${player.savings.toLocaleString()}<br>
                - Deudas acumuladas: $${player.debt.toLocaleString()}<br>
                - Salud financiera: ${player.health}%
            `;
            
            elements.optionsContainer.style.display = 'none';
            elements.resultContainer.style.display = 'block';
            elements.nextBtn.textContent = 'Reiniciar Simulación';
        }

        function nextScenario() {
            if (player.currentScenario >= scenarios.length) {
                // Reiniciar el juego
                player.savings = 10000;
                player.debt = 0;
                player.health = 100;
                player.currentScenario = 0;
                player.completedScenarios = 0;
                
                elements.nextBtn.textContent = 'Siguiente Crisis';
            } else {
                player.currentScenario++;
            }
            
            updatePlayerStats();
            showScenario();
        }

        // Event listeners
        elements.nextBtn.addEventListener('click', nextScenario);

        // Inicializar el juego
        updatePlayerStats();
        showScenario();
    }

    // Iniciar el juego cuando el DOM esté listo
    if (document.readyState === 'complete' || document.readyState === 'interactive') {
        setTimeout(initCrisisGame, 1);
    } else {
        document.addEventListener('DOMContentLoaded', initCrisisGame);
    }
});

// Carrera del Fondo de Emergencia - Lógica
document.addEventListener('DOMContentLoaded', function() {
    // Estado del juego
    let gameState = {
        currentSavings: 0,
        monthsPassed: 0,
        goal: 12000,
        monthlyExpenses: 2000,
        monthlyIncome: 3000,
        savingsRate: 15,
        history: []
    };
    
    // Consejos de ahorro
    const savingsTips = [
        "Reduce gastos en restaurantes y comida fuera",
        "Cancela suscripciones que no uses regularmente",
        "Usa transporte público o comparte coche para ahorrar en gasolina",
        "Compra marcas genéricas en el supermercado",
        "Planifica tus comidas semanales para evitar compras impulsivas",
        "Vende artículos que ya no uses",
        "Aprovecha descuentos y cupones cuando compres",
        "Considera refinanciar deudas con altos intereses",
        "Ajusta el termostato para ahorrar en energía",
        "Prepara café en casa en lugar de comprarlo"
    ];
    
    // Elementos del DOM
    const monthlyExpensesInput = document.getElementById('monthly-expenses');
    const monthlyIncomeInput = document.getElementById('monthly-income');
    const savingsRateInput = document.getElementById('savings-rate');
    const savingsRateValue = document.getElementById('savings-rate-value');
    const extraSavingsInput = document.getElementById('extra-savings');
    const savingsGoalDisplay = document.getElementById('savings-goal');
    const nextMonthBtn = document.getElementById('next-month-savings-btn');
    const savingsProgressBar = document.getElementById('savings-progress');
    const savingsProgressText = document.getElementById('savings-progress-text');
    const savingsTipsContainer = document.getElementById('savings-tips');
    const tipsList = document.getElementById('tips-list');
    
    // Inicializar gráfico de ahorros
    const savingsCtx = document.getElementById('savingsChart').getContext('2d');
    let savingsChart = new Chart(savingsCtx, {
        type: 'bar',
        data: {
            labels: [],
            datasets: [{
                label: 'Ahorro mensual',
                data: [],
                backgroundColor: '#4361ee',
                borderColor: '#3a0ca3',
                borderWidth: 1
            }, {
                label: 'Ahorro acumulado',
                data: [],
                type: 'line',
                borderColor: '#2ecc71',
                backgroundColor: 'rgba(0,0,0,0)',
                borderWidth: 3,
                pointRadius: 5
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        }
    });
    
    // Función para actualizar la meta de ahorro
    function updateSavingsGoal() {
        gameState.monthlyExpenses = parseFloat(monthlyExpensesInput.value) || 2000;
        gameState.goal = gameState.monthlyExpenses * 6;
        savingsGoalDisplay.textContent = `$${gameState.goal.toLocaleString()}`;
        
        updateProgress();
    }
    
    // Función para actualizar el progreso
    function updateProgress() {
        const percentage = (gameState.currentSavings / gameState.goal) * 100;
        savingsProgressBar.style.width = `${percentage}%`;
        
        // Cambiar color según el progreso
        if (percentage > 70) {
            savingsProgressBar.style.backgroundColor = '#2ecc71';
        } else if (percentage > 30) {
            savingsProgressBar.style.backgroundColor = '#f39c12';
        } else {
            savingsProgressBar.style.backgroundColor = '#e74c3c';
        }
        
        savingsProgressText.textContent = `$${gameState.currentSavings.toLocaleString()} de $${gameState.goal.toLocaleString()} ahorrados (${percentage.toFixed(1)}%)`;
        
        // Actualizar gráfico
        updateChart();
    }
    
    // Función para actualizar el gráfico
    function updateChart() {
        savingsChart.data.labels = Array.from({length: gameState.monthsPassed}, (_, i) => `Mes ${i+1}`);
        
        if (gameState.history.length > 0) {
            savingsChart.data.datasets[0].data = gameState.history.map(month => month.saved);
            savingsChart.data.datasets[1].data = gameState.history.map((_, i) => 
                gameState.history.slice(0, i+1).reduce((sum, month) => sum + month.saved, 0)
            );
        } else {
            savingsChart.data.datasets[0].data = [];
            savingsChart.data.datasets[1].data = [];
        }
        
        savingsChart.update();
    }
    
    // Función para mostrar consejos
    function showTips() {
        // Mostrar 3 consejos aleatorios
        tipsList.innerHTML = '';
        const shuffledTips = [...savingsTips].sort(() => 0.5 - Math.random());
        
        for (let i = 0; i < 3; i++) {
            const li = document.createElement('li');
            li.textContent = shuffledTips[i];
            tipsList.appendChild(li);
        }
        
        savingsTipsContainer.style.display = 'block';
    }
    
    // Event listeners
    monthlyExpensesInput.addEventListener('input', updateSavingsGoal);
    
    savingsRateInput.addEventListener('input', function() {
        gameState.savingsRate = parseInt(this.value);
        savingsRateValue.textContent = `${gameState.savingsRate}%`;
    });
    
    nextMonthBtn.addEventListener('click', function() {
        gameState.monthlyIncome = parseFloat(monthlyIncomeInput.value) || 3000;
        const extraSavings = parseFloat(extraSavingsInput.value) || 0;
        
        // Calcular ahorro del mes
        const baseSavings = (gameState.monthlyIncome * gameState.savingsRate / 100);
        const totalSaved = baseSavings + extraSavings;
        
        // Agregar al historial
        gameState.history.push({
            month: gameState.monthsPassed + 1,
            saved: totalSaved,
            rate: gameState.savingsRate
        });
        
        // Actualizar ahorros totales
        gameState.currentSavings += totalSaved;
        gameState.monthsPassed++;
        
        // Mostrar consejos cada 3 meses
        if (gameState.monthsPassed % 3 === 0) {
            showTips();
        }
        
        // Actualizar UI
        updateProgress();
        
        // Mostrar mensaje si se alcanzó la meta
        if (gameState.currentSavings >= gameState.goal) {
            alert(`¡Felicidades! Has alcanzado tu meta de ahorro en ${gameState.monthsPassed} meses.`);
        }
    });
    
    // Inicializar el juego
    updateSavingsGoal();
    updateProgress();
});


// El Juicio Financiero - Lógica
document.addEventListener('DOMContentLoaded', function() {
    // Casos financieros
    const cases = [
        {
            title: "Caso #1: Deuda de Tarjeta de Crédito",
            description: "Un consumidor acumuló $15,000 en deuda de tarjeta de crédito con intereses del 24% anual. Perdió su trabajo y no puede hacer los pagos mínimos. El banco insiste en el pago completo.",
            options: [
                {
                    text: "Obligar al banco a reducir la deuda al principal ($10,000) sin intereses",
                    explanation: "Los bancos a veces aceptan acuerdos para recuperar al menos parte del dinero.",
                    score: 70,
                    effect: "El consumidor puede pagar una deuda más manejable, pero el banco pierde ganancias por intereses."
                },
                {
                    text: "Ordenar un plan de pagos a 5 años con interés reducido al 12%",
                    explanation: "Un plan de pagos extendido puede hacer la deuda más manejable sin perjudicar demasiado al banco.",
                    score: 90,
                    effect: "Ambas partes llegan a un compromiso razonable."
                },
                {
                    text: "Mantener la deuda original con intereses completos",
                    explanation: "El contrato original establece los términos claramente.",
                    score: 40,
                    effect: "El consumidor probablemente no podrá pagar y terminará en bancarrota."
                }
            ]
        },
        {
            title: "Caso #2: Préstamo Predatorio",
            description: "Una persona mayor obtuvo un préstamo de $5,000 con términos confusos que resultaron en pagos de $500 mensuales a una tasa de interés efectiva del 120% anual.",
            options: [
                {
                    text: "Anular el préstamo por ser predatorio",
                    explanation: "Las leyes protegen contra préstamos abusivos con términos injustos.",
                    score: 100,
                    effect: "El prestamista es sancionado y el prestatario queda libre de deuda."
                },
                {
                    text: "Reducir la tasa de interés al 30% anual",
                    explanation: "Aún es una tasa alta pero más razonable que la original.",
                    score: 80,
                    effect: "El prestatario paga menos intereses pero el prestamista aún obtiene ganancias."
                },
                {
                    text: "Mantener los términos originales",
                    explanation: "El prestatario firmó el contrato voluntariamente.",
                    score: 20,
                    effect: "El prestatario sufre pérdidas significativas por términos abusivos."
                }
            ]
        },
        {
            title: "Caso #3: Bancarrota por Gastos Médicos",
            description: "Una familia acumuló $50,000 en deuda por gastos médicos no cubiertos por su seguro. Presentaron bancarrota para eliminar la deuda.",
            options: [
                {
                    text: "Permitir la bancarrota y eliminar la deuda",
                    explanation: "Las leyes de bancarrota existen para casos de verdadera necesidad.",
                    score: 95,
                    effect: "La familia obtiene un nuevo comienzo financiero."
                },
                {
                    text: "Ordenar un plan de pagos a 10 años sin intereses",
                    explanation: "El hospital recupera el dinero sin agobiar a la familia con intereses.",
                    score: 85,
                    effect: "Un compromiso que beneficia a ambas partes."
                },
                {
                    text: "Denegar la bancarrota y exigir pago completo",
                    explanation: "Los servicios médicos fueron prestados y deben ser pagados.",
                    score: 30,
                    effect: "La familia enfrenta dificultades financieras extremas."
                }
            ]
        },
        {
            title: "Caso #4: Fraude de Inversiones",
            description: "Un asesor financiero prometió retornos del 20% mensual en una inversión que resultó ser un esquema Ponzi. Los inversionistas perdieron $200,000.",
            options: [
                {
                    text: "Ordenar restitución completa por parte del asesor",
                    explanation: "El fraude financiero debe ser castigado y las víctimas compensadas.",
                    score: 100,
                    effect: "Los inversionistas recuperan su dinero si el asesor tiene activos."
                },
                {
                    text: "Multar al asesor pero no ordenar restitución",
                    explanation: "El asesor debe ser castigado pero no necesariamente puede pagar.",
                    score: 60,
                    effect: "Justicia simbólica pero los inversionistas no recuperan su dinero."
                },
                {
                    text: "Absolver al asesor por falta de pruebas",
                    explanation: "Los inversionistas asumieron el riesgo al buscar altos retornos.",
                    score: 10,
                    effect: "Injusticia para los inversionistas y el asesor continúa operando."
                }
            ]
        }
    ];
    
    // Estado del juego
    let gameState = {
        currentCase: 0,
        score: 100,
        casesCompleted: 0
    };
    
    // Elementos del DOM
    const caseTitle = document.getElementById('case-title');
    const caseDescription = document.getElementById('case-description');
    const judgeOptions = document.querySelector('.judge-options');
    const verdictContainer = document.getElementById('verdict-container');
    const verdictResult = document.getElementById('verdict-result');
    const verdictExplanation = document.getElementById('verdict-explanation');
    const judgeScoreBar = document.getElementById('judge-score');
    const scoreText = document.getElementById('score-text');
    const nextCaseBtn = document.getElementById('next-case-btn');
    
    // Función para mostrar un caso
    function showCase() {
        if (gameState.currentCase >= cases.length) {
            // Fin del juego
            caseTitle.textContent = "Juicio Finalizado";
            caseDescription.textContent = "Has completado todos los casos. Tu puntuación final como juez financiero:";
            judgeOptions.innerHTML = '';
            nextCaseBtn.textContent = 'Jugar de nuevo';
            
            verdictResult.textContent = `Puntuación final: ${gameState.score}/${cases.length * 100}`;
            
            let evaluation;
            if (gameState.score > cases.length * 85) {
                evaluation = "¡Excelente trabajo! Eres un juez financiero justo y sabio.";
            } else if (gameState.score > cases.length * 60) {
                evaluation = "Buen trabajo, pero hay margen para mejorar tus decisiones.";
            } else {
                evaluation = "Considera estudiar más sobre finanzas personales y leyes financieras.";
            }
            
            verdictExplanation.textContent = evaluation;
            verdictContainer.style.display = 'block';
            return;
        }
        
        const currentCase = cases[gameState.currentCase];
        
        caseTitle.textContent = currentCase.title;
        caseDescription.textContent = currentCase.description;
        
        // Limpiar opciones anteriores
        judgeOptions.innerHTML = '';
        
        // Agregar nuevas opciones
        currentCase.options.forEach((option, index) => {
            const btn = document.createElement('button');
            btn.className = 'decision-btn';
            btn.textContent = option.text;
            btn.setAttribute('data-index', index);
            
            btn.addEventListener('click', function() {
                const selectedOption = currentCase.options[index];
                
                // Mostrar resultado
                verdictResult.textContent = selectedOption.effect;
                verdictExplanation.innerHTML = `<strong>Explicación:</strong> ${selectedOption.explanation}`;
                
                // Actualizar puntuación
                gameState.score = Math.max(0, gameState.score + (selectedOption.score - 50));
                updateScore();
                
                verdictContainer.style.display = 'block';
                judgeOptions.style.display = 'none';
                nextCaseBtn.style.display = 'block';
                
                gameState.casesCompleted++;
            });
            
            judgeOptions.appendChild(btn);
        });
        
        judgeOptions.style.display = 'grid';
        verdictContainer.style.display = 'none';
        nextCaseBtn.style.display = 'none';
    }
    
    // Función para actualizar la puntuación
    function updateScore() {
        const percentage = (gameState.score / (cases.length * 100)) * 100;
        judgeScoreBar.style.width = `${percentage}%`;
        
        // Cambiar color según la puntuación
        if (percentage > 80) {
            judgeScoreBar.style.backgroundColor = '#2ecc71';
        } else if (percentage > 50) {
            judgeScoreBar.style.backgroundColor = '#f39c12';
        } else {
            judgeScoreBar.style.backgroundColor = '#e74c3c';
        }
        
        scoreText.textContent = `${gameState.score}/${cases.length * 100}`;
    }
    
    // Botón para siguiente caso
    nextCaseBtn.addEventListener('click', function() {
        if (gameState.currentCase >= cases.length) {
            // Reiniciar el juego
            gameState = {
                currentCase: 0,
                score: 100,
                casesCompleted: 0
            };
            
            updateScore();
            nextCaseBtn.textContent = 'Siguiente Caso';
        }
        
        gameState.currentCase++;
        showCase();
    });
    
    // Inicializar el juego
    updateScore();
    showCase();
});
    </script>

    <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.0/firebase-app.js";
    import { 
        getFirestore, 
        collection, 
        addDoc, 
        getDocs, 
        query, 
        orderBy, 
        serverTimestamp
    } from "https://www.gstatic.com/firebasejs/9.6.0/firebase-firestore.js";

    // Configuración de Firebase (reemplaza con tus datos)
    const firebaseConfig = {
        apiKey: "AIzaSyD32q3wRHo5ael_4V9DM7gnIPZlpCyVIUM",
        authDomain: "edufinanzas-comments1.firebaseapp.com",
        projectId: "edufinanzas-comments1",
        storageBucket: "edufinanzas-comments1.firebasestorage.app",
        messagingSenderId: "1038889022987",
        appId: "1:1038889022987:web:66f93dae662a564c98f90e",
        measurementId: "G-0ZZPPXMRNC"
    };

    // Inicializa Firebase
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    // Elementos del DOM
    const nameInput = document.getElementById('name');
    const commentInput = document.getElementById('comment');
    const submitBtn = document.getElementById('submit-comment');
    const commentsContainer = document.getElementById('comments-container');
    const paginationDots = document.getElementById('pagination-dots');
    const loadingElement = document.getElementById('loading-comments');

    // Variables para la paginación
    let currentPage = 0;
    const commentsPerPage = 5;
    let allComments = [];

    // Cargar comentarios al iniciar
    document.addEventListener('DOMContentLoaded', loadComments);

    // Enviar comentario
    submitBtn.addEventListener('click', submitComment);

    // Función para cargar comentarios
    async function loadComments() {
        try {
            loadingElement.style.display = 'block';
            commentsContainer.style.display = 'none';
            
            const q = query(collection(db, "comments"), orderBy("timestamp", "desc"));
            const querySnapshot = await getDocs(q);
            
            allComments = [];
            querySnapshot.forEach((doc) => {
                allComments.push({
                    id: doc.id,
                    ...doc.data()
                });
            });
            
            displayComments();
            loadingElement.style.display = 'none';
            commentsContainer.style.display = 'flex';
        } catch (error) {
            console.error("Error al cargar comentarios: ", error);
            showMessage("Error al cargar comentarios", "error");
        }
    }

    // Función para mostrar comentarios
    function displayComments() {
        commentsContainer.innerHTML = '';
        paginationDots.innerHTML = '';
        
        if (allComments.length === 0) {
            commentsContainer.innerHTML = '<div class="no-comments">No hay comentarios aún</div>';
            return;
        }
        
        const pageCount = Math.ceil(allComments.length / commentsPerPage);
        
        // Crear columnas
        for (let i = 0; i < pageCount; i++) {
            const column = document.createElement('div');
            column.className = 'comments-column';
            column.style.transform = `translateX(-${currentPage * 100}%)`;
            
            const startIndex = i * commentsPerPage;
            const endIndex = startIndex + commentsPerPage;
            const columnComments = allComments.slice(startIndex, endIndex);
            
            columnComments.forEach(comment => {
                column.appendChild(createCommentElement(comment));
            });
            
            commentsContainer.appendChild(column);
        }
        
        // Crear puntos de paginación
        for (let i = 0; i < pageCount; i++) {
            const dot = document.createElement('div');
            dot.className = 'dot';
            if (i === currentPage) dot.classList.add('active');
            dot.addEventListener('click', () => goToPage(i));
            paginationDots.appendChild(dot);
        }
        
        updateColumnsPosition();
    }

    // Función para crear elemento de comentario
    function createCommentElement(comment) {
        const commentElement = document.createElement('div');
        commentElement.className = 'comment-card card';
        
        const header = document.createElement('div');
        header.className = 'comment-header';
        
        const author = document.createElement('span');
        author.className = 'comment-author';
        author.textContent = comment.name;
        
        const rating = document.createElement('span');
        rating.className = 'comment-rating';
        
        for (let i = 0; i < 5; i++) {
            const star = document.createElement('i');
            star.className = 'fas fa-star';
            star.style.color = i < comment.rating ? '#ffcc00' : '#ccc';
            rating.appendChild(star);
        }
        
        const date = document.createElement('div');
        date.className = 'comment-date';
        date.textContent = formatDate(comment.timestamp);
        
        const content = document.createElement('p');
        content.className = 'comment-content';
        content.textContent = comment.text;
        
        header.appendChild(author);
        header.appendChild(rating);
        
        commentElement.appendChild(header);
        commentElement.appendChild(date);
        commentElement.appendChild(content);
        
        return commentElement;
    }

    // Función para formatear fecha
    function formatDate(timestamp) {
        if (!timestamp) return '';
        const date = timestamp.toDate();
        return date.toLocaleDateString('es-ES', {
            year: 'numeric',
            month: 'long',
            day: 'numeric',
            hour: '2-digit',
            minute: '2-digit'
        });
    }

    // Función para cambiar de página
    function goToPage(page) {
        currentPage = page;
        updateColumnsPosition();
        updatePaginationDots();
    }

    // Función para actualizar posición de columnas
    function updateColumnsPosition() {
        const columns = document.querySelectorAll('.comments-column');
        columns.forEach(column => {
            column.style.transform = `translateX(-${currentPage * 100}%)`;
        });
    }

    // Función para actualizar puntos de paginación
    function updatePaginationDots() {
        const dots = document.querySelectorAll('.dot');
        dots.forEach((dot, index) => {
            dot.classList.toggle('active', index === currentPage);
        });
    }

    // Función para enviar comentario
    async function submitComment() {
        const name = nameInput.value.trim();
        const comment = commentInput.value.trim();
        const rating = document.querySelector('input[name="rating"]:checked')?.value;
        
        if (!name || !comment || !rating) {
            showMessage('Completa todos los campos', "error");
            return;
        }
        
        try {
            submitBtn.disabled = true;
            submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Enviando...';
            
            await addDoc(collection(db, "comments"), {
                name: name,
                text: comment,
                rating: parseInt(rating),
                timestamp: serverTimestamp()
            });
            
            nameInput.value = '';
            commentInput.value = '';
            document.querySelectorAll('input[name="rating"]').forEach(input => input.checked = false);
            
            await loadComments();
            currentPage = 0;
            displayComments();
            
            showMessage('Comentario enviado', "success");
        } catch (error) {
            console.error("Error:", error);
            showMessage('Error al enviar', "error");
        } finally {
            submitBtn.disabled = false;
            submitBtn.textContent = 'Enviar Comentario';
        }
    }

    // Función para mostrar mensajes
    function showMessage(message, type) {
        const messageDiv = document.createElement('div');
        messageDiv.className = type === 'error' ? 'error-message' : 'success-message';
        messageDiv.innerHTML = `<i class="fas fa-${type === 'error' ? 'exclamation-circle' : 'check-circle'}"></i> ${message}`;
        
        document.querySelector('.comment-form-container').appendChild(messageDiv);
        setTimeout(() => messageDiv.remove(), 5000);
    }
</script>
</body>
</html>